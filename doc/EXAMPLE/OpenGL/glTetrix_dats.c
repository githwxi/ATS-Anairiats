/*
**
** The C code is generated by ATS/Anairiats
** The compilation time is: 2018-3-6: 12h:32m
**
*/

/* include some .h files */
#ifndef _ATS_HEADER_NONE
#include "ats_config.h"
#include "ats_basics.h"
#include "ats_types.h"
#include "ats_exception.h"
#include "ats_memory.h"
#endif /* _ATS_HEADER_NONE */

/* include some .cats files */
#ifndef _ATS_PRELUDE_NONE
#include "prelude/CATS/basics.cats"
#include "prelude/CATS/integer.cats"
#include "prelude/CATS/sizetype.cats"
#include "prelude/CATS/integer_ptr.cats"
#include "prelude/CATS/integer_fixed.cats"
#include "prelude/CATS/pointer.cats"
#include "prelude/CATS/bool.cats"
#include "prelude/CATS/char.cats"
#include "prelude/CATS/byte.cats"
#include "prelude/CATS/float.cats"
#include "prelude/CATS/string.cats"
#include "prelude/CATS/reference.cats"
#include "prelude/CATS/lazy.cats"
#include "prelude/CATS/lazy_vt.cats"
#include "prelude/CATS/printf.cats"
#include "prelude/CATS/list.cats"
#include "prelude/CATS/option.cats"
#include "prelude/CATS/array.cats"
#include "prelude/CATS/matrix.cats"
#endif /* _ATS_PRELUDE_NONE */
/* prologues from statically loaded files */

#include "libc/CATS/random.cats"

#include "libc/CATS/unistd.cats"

#include "libc/sys/CATS/types.cats"

#include "libc/CATS/fcntl.cats"

#include "libc/sys/CATS/types.cats"

#include "contrib/GL/CATS/gl.cats"

#include "contrib/GL/CATS/glut.cats"

#include "contrib/GL/CATS/gl.cats"

#include "libc/CATS/math.cats"
/* external codes at top */


static ats_void_type
  mainats (ats_int_type argc, ats_ptr_type argv) ;



static inline
ats_void_type
glTetrix_glutBitmapCharacter
  (ats_ref_type ft, ats_char_type c) {
  glutBitmapCharacter ((void*)ft, (int)c) ; return ;
} /* end of [glTetrix_glutBitmapCharacter] */


/* type definitions */
typedef
struct {
ats_ptr_type atslab_3 ;
ats_ptr_type atslab_4 ;
} anairiats_rec_0 ;

typedef
struct {
ats_ptr_type atslab_2 ;
ats_size_type atslab_3 ;
} anairiats_rec_1 ;

typedef
struct {
ats_int_type atslab_xlen ;
ats_int_type atslab_ylen ;
ats_ptr_type atslab_matrix ;
ats_int_type atslab_points ;
} anairiats_rec_2 ;

/* external typedefs */
typedef ats_int_type rotkind_t ;
typedef ats_int_type color_t ;

/* external dynamic constructor declarations */
/* external dynamic constant declarations */
ATSextern_fun(ats_void_type, atspre_assert) (ats_bool_type) ;
ATSextern_fun(ats_void_type, atspre_vbox_make_view_ptr) (ats_ptr_type) ;
ATSextern_fun(ats_bool_type, atspre_neg_bool) (ats_bool_type) ;
ATSextern_fun(ats_double_type, atspre_double_of_int) (ats_int_type) ;
ATSextern_fun(ats_double_type, atspre_neg_double) (ats_double_type) ;
ATSextern_fun(ats_double_type, atspre_add_double_double) (ats_double_type, ats_double_type) ;
ATSextern_fun(ats_double_type, atspre_sub_double_double) (ats_double_type, ats_double_type) ;
ATSextern_fun(ats_double_type, atspre_mul_double_double) (ats_double_type, ats_double_type) ;
ATSextern_fun(ats_double_type, atspre_mul_int_double) (ats_int_type, ats_double_type) ;
ATSextern_fun(ats_double_type, atspre_div_double_double) (ats_double_type, ats_double_type) ;
ATSextern_fun(ats_double_type, atspre_div_double_int) (ats_double_type, ats_int_type) ;
ATSextern_fun(ats_bool_type, atspre_lte_double_double) (ats_double_type, ats_double_type) ;
ATSextern_fun(ats_bool_type, atspre_gte_double_double) (ats_double_type, ats_double_type) ;
ATSextern_fun(ats_int_type, atspre_add_int_int) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_int_type, atspre_sub_int_int) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_int_type, atspre_mul_int_int) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_bool_type, atspre_lt_int_int) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_bool_type, atspre_gt_int_int) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_bool_type, atspre_eq_int_int) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_bool_type, atspre_neq_int_int) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_uint_type, atspre_uint_of_double) (ats_double_type) ;
ATSextern_fun(ats_int_type, atspre_ineg) (ats_int_type) ;
ATSextern_fun(ats_int_type, atspre_iadd) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_int_type, atspre_isub) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_int_type, atspre_imul) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_int_type, atspre_idiv) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_int_type, atspre_nmod1) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_bool_type, atspre_ilt) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_bool_type, atspre_ilte) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_size_type, atspre_size1_of_int1) (ats_int_type) ;
ATSextern_fun(ats_size_type, atspre_add_size1_int1) (ats_size_type, ats_int_type) ;
ATSextern_fun(ats_size_type, atspre_sub_size1_int1) (ats_size_type, ats_int_type) ;
ATSextern_fun(ats_size_type, atspre_mul2_size1_size1) (ats_size_type, ats_size_type) ;
ATSextern_fun(ats_size_type, atspre_mod1_size1_size1) (ats_size_type, ats_size_type) ;
ATSextern_fun(ats_bool_type, atspre_lt_size1_size1) (ats_size_type, ats_size_type) ;
ATSextern_fun(ats_bool_type, atspre_gt_size1_int1) (ats_size_type, ats_int_type) ;
ATSextern_fun(ats_bool_type, atspre_neq_size1_size1) (ats_size_type, ats_size_type) ;
ATSextern_fun(ats_ptr_type, atspre_ref_make_elt_tsz) (ats_ref_type, ats_size_type) ;
ATSextern_fun(ats_char_type, atspre_string_get_char_at) (ats_ptr_type, ats_size_type) ;
ATSextern_fun(ats_bool_type, atspre_string_isnot_atend) (ats_ptr_type, ats_size_type) ;
ATSextern_fun(ats_ptr_type, atspre_tostringf) (ats_ptr_type, ...) ;
ATSextern_fun(ats_ptr_type, atspre_array_ptr_alloc_tsz) (ats_size_type, ats_size_type) ;
ATSextern_fun(ats_void_type, atspre_array_ptr_free) (ats_ptr_type) ;
ATSextern_fun(ats_void_type, atspre_array_ptr_initialize_funenv_tsz) (ats_ref_type, ats_size_type, ats_ptr_type, ats_size_type, ats_ptr_type) ;
ATSextern_fun(ats_void_type, atspre_array_ptr_initialize_cloenv_tsz) (ats_ref_type, ats_size_type, ats_ref_type, ats_size_type, ats_ptr_type) ;
ATSextern_fun(ats_ptr_type, atspre_array_ptr_split_tsz) (ats_ptr_type, ats_size_type, ats_size_type) ;
ATSextern_fun(ats_ptr_type, atspre_array_ptr_takeout_tsz) (ats_ptr_type, ats_size_type, ats_size_type) ;
ATSextern_fun(anairiats_rec_0, atspre_array_ptr_takeout2_tsz) (ats_ptr_type, ats_size_type, ats_size_type, ats_size_type) ;
ATSextern_fun(ats_void_type, atspre_array_ptr_foreach_funenv_tsz) (ats_ref_type, ats_ptr_type, ats_size_type, ats_size_type, ats_ptr_type) ;
ATSextern_fun(ats_void_type, atspre_array_ptr_iforeach_funenv_tsz) (ats_ref_type, ats_ptr_type, ats_size_type, ats_size_type, ats_ptr_type) ;
ATSextern_fun(ats_ptr_type, atspre_array2_ptr_takeout_tsz) (ats_ptr_type, ats_size_type, ats_size_type, ats_size_type) ;
ATSextern_fun(ats_ptr_type, ATS_2d0_2e2_2e12_2prelude_2SATS_2array_2esats__array_make_arrpsz) (anairiats_rec_1) ;
ATSextern_fun(ats_ptr_type, atspre_matrix_ptr_takeout_row_tsz) (ats_ptr_type, ats_size_type, ats_size_type, ats_size_type) ;
ATSextern_fun(ats_ptr_type, atspre_matrix_ptr_takeout_elt_tsz) (ats_ptr_type, ats_size_type, ats_size_type, ats_size_type, ats_size_type) ;
ATSextern_fun(ats_ptr_type, atspre_matrix_make_arrpsz__main) (ats_size_type, ats_size_type, anairiats_rec_1) ;
ATSextern_fun(ats_ptr_type, atspre_matrix_make_funenv_tsz) (ats_size_type, ats_size_type, ats_ptr_type, ats_size_type, ats_ptr_type) ;
ATSextern_fun(ats_void_type, atslib_srand48_with_time) () ;
ATSextern_fun(ats_int_type, atslib_randint) (ats_int_type) ;
ATSextern_fun(ats_void_type, atspre_vbox_make_view_ptr) (ats_ptr_type) ;
ATSextern_fun(ats_void_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__glTetrix_display_main) (ats_int_type) ;
ATSextern_fun(ats_void_type, glTetrix_display) () ;
ATSextern_fun(ats_void_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__glTetrix_finalize) () ;
ATSextern_fun(ats_void_type, glTetrix_initialize) () ;
ATSextern_fun(ats_int_type, color_index_get) (ats_int_type) ;
ATSextern_fun(ats_bool_type, color_is_none) (ats_int_type) ;
ATSextern_fun(ats_bool_type, color_is_some) (ats_int_type) ;
ATSextern_fun(ats_bool_type, eq_color_color) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_bool_type, neq_color_color) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_make) (ats_int_type, ats_int_type, ats_ptr_type, ats_int_type) ;
ATSextern_fun(ats_int_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_xlen_get) (ats_ptr_type) ;
ATSextern_fun(ats_int_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_ylen_get) (ats_ptr_type) ;
ATSextern_fun(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_matrix_get) (ats_ptr_type) ;
ATSextern_fun(ats_int_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_points_get) (ats_ptr_type) ;
ATSextern_fun(ats_int_type, the_rotkind_get) () ;
ATSextern_fun(ats_void_type, the_rotkind_set) (ats_int_type) ;
ATSextern_fun(ats_void_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_draw_atrot) (ats_int_type, ats_ptr_type, ats_int_type, ats_int_type, ats_int_type) ;
ATSextern_val(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theShapeArray) ;
ATSextern_val(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theShapeColorArray) ;
ATSextern_val(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeRef) ;
ATSextern_val(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShapeRef) ;
ATSextern_fun(ats_int_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeShow_get) () ;
ATSextern_fun(ats_void_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeShow_toggle) () ;
ATSextern_fun(ats_bool_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameOver_get) () ;
ATSextern_fun(ats_void_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameOver_set) () ;
ATSextern_fun(ats_int_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameLevel_get) () ;
ATSextern_fun(ats_uint_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_get) () ;
ATSextern_fun(ats_void_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_inc) () ;
ATSextern_fun(ats_void_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_dec) () ;
ATSextern_fun(ats_int_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTotalScore_get) () ;
ATSextern_fun(ats_void_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTotalScore_incby) (ats_int_type) ;
ATSextern_fun(ats_void_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__FRAME_row_flash) (ats_int_type) ;
ATSextern_fun(ats_void_type, FRAME_row_remove) (ats_int_type) ;
ATSextern_fun(ats_void_type, FRAME_rows_remove_if) () ;
ATSextern_fun(ats_int_type, the_ix_center_get) () ;
ATSextern_fun(ats_void_type, the_ix_center_set) (ats_int_type) ;
ATSextern_fun(ats_int_type, the_iy_center_get) () ;
ATSextern_fun(ats_void_type, the_iy_center_set) (ats_int_type) ;
ATSextern_fun(ats_int_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_absorb_atrot) (ats_int_type, ats_ptr_type, ats_int_type, ats_int_type, ats_int_type) ;
ATSextern_fun(ats_bool_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_position_test) (ats_ptr_type, ats_int_type, ats_int_type, ats_int_type) ;
ATSextern_fun(ats_void_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShape_absorb) () ;
ATSextern_fun(ats_void_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShape_update) () ;
ATSextern_fun(ats_int_type, theCurrentShape_xmove_if) (ats_int_type) ;
ATSextern_fun(ats_int_type, theCurrentShape_ymove_if) (ats_int_type) ;
ATSextern_fun(ats_void_type, theCurrentShape_freefall) () ;
ATSextern_fun(ats_int_type, theCurrentShape_rotate_if) (ats_int_type) ;
ATSextern_fun(ats_void_type, glTetrix_glutBitmapCharacter) (ats_ptr_type, ats_char_type) ;
ATSextern_fun(ats_void_type, glTetrix_keyboard) (ats_uchar_type, ats_int_type, ats_int_type) ;
ATSextern_fun(ats_void_type, glTetrix_timer) (ats_int_type) ;

/* external dynamic terminating constant declarations */
#ifdef _ATS_PROOFCHECK
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2basics_dyn_2esats__main_dummy_prfck () ;
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2SATS_2arith_2esats__mul_istot_prfck () ;
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2SATS_2arith_2esats__mul_nat_nat_nat_prfck () ;
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2SATS_2array_2esats__array_v_takeout2_prfck () ;
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2SATS_2matrix_2esats__array_v_of_matrix_v_prfck () ;
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2SATS_2matrix_2esats__matrix_v_of_array_v_prfck () ;
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____copy_prfck () ;
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____free_prfck () ;
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____assert_prfck () ;
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____assert_prfck () ;
#endif /* _ATS_PROOFCHECK */

/* assuming abstract types */
int ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__sasp__shape_t = 0 ;

/* sum constructor declarations */
/* exn constructor declarations */
/* global dynamic (non-functional) constant declarations */
ATSglobal(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theShapeArray) ;
ATSglobal(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeRef) ;
ATSglobal(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShapeRef) ;

/* internal function declarations */
static
ats_void_type drawRectangle_0 (ats_double_type arg0, ats_double_type arg1, ats_double_type arg2, ats_double_type arg3) ;
static
ats_ptr_type ref_01088_ats_int_type (ats_int_type arg0) ;
static
ats_ptr_type ref_make_elt_01089_ats_int_type (ats_int_type arg0) ;
static
ats_ptr_type ref_01088_ats_bool_type (ats_bool_type arg0) ;
static
ats_ptr_type ref_make_elt_01089_ats_bool_type (ats_bool_type arg0) ;
static
ats_ptr_type ref_01088_ats_double_type (ats_double_type arg0) ;
static
ats_ptr_type ref_make_elt_01089_ats_double_type (ats_double_type arg0) ;
static
ats_void_type FRAME_glClear_17 () ;
static
ats_void_type FRAME_glColor3d_18 () ;
static
ats_void_type loop_21 (ats_ptr_type arg0, ats_size_type arg1, ats_int_type arg2) ;
static
ats_void_type array_ptr_initialize_elt_01568_ats_int_type (ats_ref_type arg0, ats_size_type arg1, ats_int_type arg2) ;
static
ats_ptr_type matrix_make_elt_01652_ats_int_type (ats_size_type arg0, ats_size_type arg1, ats_int_type arg2) ;
static
ats_ptr_type matrix_ptr_takeout_elt_01648_ats_int_type (ats_ptr_type arg0, ats_size_type arg1, ats_size_type arg2, ats_size_type arg3) ;
static
ats_void_type matrix_set_elt_at_01657_ats_int_type (ats_ptr_type arg0, ats_size_type arg1, ats_size_type arg2, ats_size_type arg3, ats_int_type arg4) ;
static
ats_void_type matrix_set_elt_at__intsz_01659_ats_int_type (ats_ptr_type arg0, ats_int_type arg1, ats_int_type arg2, ats_int_type arg3, ats_int_type arg4) ;
static
ats_void_type restore_23 (ats_int_type env0, ats_ref_type arg0) ;
static
ats_clo_ptr_type restore_23_closure_make (ats_int_type env0) ;
static
ats_void_type restore_23_clofun (ats_clo_ptr_type cloptr, ats_ref_type arg0) ;
static
ats_void_type disappear_27 (ats_int_type env0, ats_ref_type arg0) ;
static
ats_clo_ptr_type disappear_27_closure_make (ats_int_type env0) ;
static
ats_void_type disappear_27_clofun (ats_clo_ptr_type cloptr, ats_ref_type arg0) ;
static
ats_int_type matrix_get_elt_at_01656_ats_int_type (ats_ptr_type arg0, ats_size_type arg1, ats_size_type arg2, ats_size_type arg3) ;
static
ats_int_type matrix_get_elt_at__intsz_01658_ats_int_type (ats_ptr_type arg0, ats_int_type arg1, ats_int_type arg2, ats_int_type arg3) ;
static
ats_void_type save_28 (ats_int_type env0, ats_ref_type arg0) ;
static
ats_clo_ptr_type save_28_closure_make (ats_int_type env0) ;
static
ats_void_type save_28_clofun (ats_clo_ptr_type cloptr, ats_ref_type arg0) ;
static
ats_void_type remove_one_32 (ats_int_type arg0) ;
static
ats_void_type remove_last_33 () ;
static
ats_bool_type test_35 (ats_int_type arg0) ;
static
ats_void_type loop_37 (ats_double_type env0, ats_double_type env1, ats_double_type env2, ats_int_type env3, ats_double_type env4, ats_int_type arg0, ats_double_type arg1) ;
static
ats_clo_ptr_type loop_37_closure_make (ats_double_type env0, ats_double_type env1, ats_double_type env2, ats_int_type env3, ats_double_type env4) ;
static
ats_void_type loop_37_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ats_double_type arg1) ;
static
ats_void_type drawArc_36 (ats_double_type arg0, ats_double_type arg1, ats_double_type arg2, ats_double_type arg3, ats_double_type arg4, ats_int_type arg5) ;
static
ats_void_type drawBlock_38 (ats_int_type arg0, ats_int_type arg1) ;
static
ats_void_type glColor3d_color_39 (ats_int_type arg0) ;
static
ats_void_type loop_row_41 (ats_int_type arg0, ats_ptr_type arg1, ats_int_type arg2, ats_int_type arg3, ats_int_type arg4) ;
static
ats_void_type shape_draw_40 (ats_int_type arg0, ats_ptr_type arg1) ;
static
ats_void_type action_44 (ats_int_type env0, ats_int_type arg0, ats_int_type arg1, ats_int_type arg2, ats_ref_type arg3) ;
static
ats_clo_ptr_type action_44_closure_make (ats_int_type env0) ;
static
ats_void_type action_44_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ats_int_type arg1, ats_int_type arg2, ats_ref_type arg3) ;
static
ats_int_type loop1_45 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0) ;
static
ats_clo_ptr_type loop1_45_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) ;
static
ats_int_type loop1_45_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) ;
static
ats_int_type loop2_46 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ats_int_type arg1) ;
static
ats_clo_ptr_type loop2_46_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) ;
static
ats_int_type loop2_46_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ats_int_type arg1) ;
static
ats_int_type loop1_45_0loop2_46 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ...) ;
static
ats_clo_ptr_type loop1_45_0loop2_46_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) ;
static
ats_int_type loop1_45_0loop2_46_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ...) ;
static
ats_int_type loop1_48 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0) ;
static
ats_clo_ptr_type loop1_48_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) ;
static
ats_int_type loop1_48_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) ;
static
ats_int_type loop2_49 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ats_int_type arg1) ;
static
ats_clo_ptr_type loop2_49_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) ;
static
ats_int_type loop2_49_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ats_int_type arg1) ;
static
ats_int_type loop1_48_0loop2_49 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ...) ;
static
ats_clo_ptr_type loop1_48_0loop2_49_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) ;
static
ats_int_type loop1_48_0loop2_49_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ...) ;
static
ats_int_type loop1_51 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0) ;
static
ats_clo_ptr_type loop1_51_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) ;
static
ats_int_type loop1_51_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) ;
static
ats_int_type loop2_52 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ats_int_type arg1) ;
static
ats_clo_ptr_type loop2_52_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) ;
static
ats_int_type loop2_52_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ats_int_type arg1) ;
static
ats_int_type loop1_51_0loop2_52 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ...) ;
static
ats_clo_ptr_type loop1_51_0loop2_52_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) ;
static
ats_int_type loop1_51_0loop2_52_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ...) ;
static
ats_int_type loop1_54 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0) ;
static
ats_clo_ptr_type loop1_54_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) ;
static
ats_int_type loop1_54_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) ;
static
ats_int_type loop2_55 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ats_int_type arg1) ;
static
ats_clo_ptr_type loop2_55_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) ;
static
ats_int_type loop2_55_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ats_int_type arg1) ;
static
ats_int_type loop1_54_0loop2_55 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ...) ;
static
ats_clo_ptr_type loop1_54_0loop2_55_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) ;
static
ats_int_type loop1_54_0loop2_55_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ...) ;
static
ats_ptr_type array_get_elt_at_01614_ats_ptr_type (ats_ptr_type arg0, ats_size_type arg1) ;
static
ats_void_type loop_64 (ats_ptr_type arg0) ;
static
ats_void_type FRAME_draw_66 () ;
static
ats_void_type FRAME_matrix_draw_67 () ;
static
ats_void_type FRAME_glClearColor_70 () ;
static
ats_void_type __ats_fun_73 () ;
static
ats_void_type f_74 (ats_uchar_type arg0, ats_int_type arg1, ats_int_type arg2) ;
static
ats_void_type loop_76 (ats_ptr_type arg0, ats_ptr_type arg1, ats_size_type arg2) ;
static
ats_void_type show_string_75 (ats_ptr_type arg0, ats_ptr_type arg1) ;
static
ats_ptr_type ref_01088_ats_ptr_type (ats_ptr_type arg0) ;
static
ats_ptr_type ref_make_elt_01089_ats_ptr_type (ats_ptr_type arg0) ;

/* partial value template declarations */
/* static temporary variable declarations */
ATSstatic (ats_int_type, statmp11) ;
ATSstatic (ats_bool_type, statmp13) ;
ATSstatic (ats_int_type, statmp14) ;
ATSstatic (ats_double_type, statmp15) ;
ATSstatic (ats_double_type, statmp16) ;
ATSstatic (ats_double_type, statmp17) ;
ATSstatic (ats_double_type, statmp18) ;
ATSstatic (ats_double_type, statmp19) ;
ATSstatic (ats_double_type, statmp20) ;
ATSstatic (ats_double_type, statmp21) ;
ATSstatic (ats_double_type, statmp22) ;
ATSstatic (ats_ptr_type, statmp23) ;
ATSstatic (ats_ptr_type, statmp31) ;
ATSstatic (ats_ptr_type, statmp35) ;
ATSstatic (ats_ptr_type, statmp36) ;
ATSstatic (ats_ptr_type, statmp57) ;
ATSstatic (ats_ptr_type, statmp68) ;
ATSstatic (ats_ptr_type, statmp560) ;
ATSstatic (ats_ptr_type, statmp561) ;
ATSstatic (ats_ptr_type, statmp562) ;
// ATSstatic_void (statmp563) ;
// ATSstatic_void (statmp564) ;
ATSstatic (ats_ptr_type, statmp565) ;
// ATSstatic_void (statmp566) ;
// ATSstatic_void (statmp567) ;
ATSstatic (ats_ptr_type, statmp568) ;
// ATSstatic_void (statmp569) ;
// ATSstatic_void (statmp570) ;
ATSstatic (ats_ptr_type, statmp571) ;
// ATSstatic_void (statmp572) ;
// ATSstatic_void (statmp573) ;
ATSstatic (ats_ptr_type, statmp574) ;
// ATSstatic_void (statmp575) ;
// ATSstatic_void (statmp576) ;
ATSstatic (ats_ptr_type, statmp577) ;
ATSstatic (ats_ptr_type, statmp578) ;
ATSstatic (ats_ptr_type, statmp579) ;
ATSstatic (ats_ptr_type, statmp580) ;
ATSstatic (ats_ptr_type, statmp581) ;
ATSstatic (ats_ptr_type, statmp582) ;
ATSstatic (ats_ptr_type, statmp583) ;
ATSstatic (ats_ptr_type, statmp584) ;
ATSstatic (anairiats_rec_1, statmp585) ;
ATSstatic (ats_ptr_type, statmp586) ;
ATSstatic (ats_ptr_type, statmp587) ;
ATSstatic (ats_ptr_type, statmp588) ;
ATSstatic (ats_ptr_type, statmp592) ;
ATSstatic (ats_ptr_type, statmp593) ;

/* external value variable declarations */

/* function implementations */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 1214(line=66, offs=4) -- 1577(line=76, offs=4)
*/
ATSstaticdec()
ats_void_type
drawRectangle_0 (ats_double_type arg0, ats_double_type arg1, ats_double_type arg2, ats_double_type arg3) {
/* local vardec */
// ATSlocal_void (tmp0) ;
// ATSlocal_void (tmp1) ;
// ATSlocal_void (tmp2) ;
// ATSlocal_void (tmp3) ;
// ATSlocal_void (tmp4) ;
ATSlocal (ats_double_type, tmp5) ;
// ATSlocal_void (tmp6) ;
ATSlocal (ats_double_type, tmp7) ;
ATSlocal (ats_double_type, tmp8) ;
// ATSlocal_void (tmp9) ;
ATSlocal (ats_double_type, tmp10) ;

__ats_lab_drawRectangle_0:
/* tmp1 = */ atsctrb_glBegin (GL_POLYGON) ;
/* tmp2 = ats_selsin_mac(tmp1, atslab_1) */ ;
/* tmp3 = */ atsctrb_glVertex3d (arg0, arg1, 0.0) ;
tmp5 = atspre_add_double_double (arg0, arg2) ;
/* tmp4 = */ atsctrb_glVertex3d (tmp5, arg1, 0.0) ;
tmp7 = atspre_add_double_double (arg0, arg2) ;
tmp8 = atspre_add_double_double (arg1, arg3) ;
/* tmp6 = */ atsctrb_glVertex3d (tmp7, tmp8, 0.0) ;
tmp10 = atspre_add_double_double (arg1, arg3) ;
/* tmp9 = */ atsctrb_glVertex3d (arg0, tmp10, 0.0) ;
/* tmp0 = */ atsctrb_glEnd () ;
return /* (tmp0) */ ;
} /* end of [drawRectangle_0] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/reference.dats: 1828(line=57, offs=18) -- 1902(line=59, offs=4)
*/
ATSstaticdec()
ats_ptr_type
ref_01088_ats_int_type (ats_int_type arg0) {
/* local vardec */
ATSlocal (ats_ptr_type, tmp25) ;
ATSlocal (ats_int_type, tmp26) ;

__ats_lab_ref_01088_ats_int_type:
/* ats_int_type tmp26 ; */
tmp26 = arg0 ;
tmp25 = atspre_ref_make_elt_tsz ((&tmp26), sizeof(ats_int_type)) ;
return (tmp25) ;
} /* end of [ref_01088_ats_int_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/reference.dats: 1994(line=62, offs=27) -- 2009(line=62, offs=42)
*/
ATSstaticdec()
ats_ptr_type
ref_make_elt_01089_ats_int_type (ats_int_type arg0) {
/* local vardec */
ATSlocal (ats_ptr_type, tmp24) ;

__ats_lab_ref_make_elt_01089_ats_int_type:
tmp24 = ref_01088_ats_int_type (arg0) ;
return (tmp24) ;
} /* end of [ref_make_elt_01089_ats_int_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 4430(line=185, offs=32) -- 4442(line=185, offs=44)
*/
ATSglobaldec()
ats_int_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeShow_get () {
/* local vardec */
ATSlocal (ats_int_type, tmp27) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeShow_get:
tmp27 = ats_ptrget_mac(ats_int_type, statmp23) ;
return (tmp27) ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeShow_get] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 4477(line=186, offs=35) -- 4505(line=186, offs=63)
*/
ATSglobaldec()
ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeShow_toggle () {
/* local vardec */
// ATSlocal_void (tmp28) ;
ATSlocal (ats_int_type, tmp29) ;
ATSlocal (ats_int_type, tmp30) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeShow_toggle:
tmp30 = ats_ptrget_mac(ats_int_type, statmp23) ;
tmp29 = atspre_sub_int_int (1, tmp30) ;
ats_ptrget_mac(ats_int_type, statmp23) = tmp29 ;
return /* (tmp28) */ ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeShow_toggle] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/reference.dats: 1828(line=57, offs=18) -- 1902(line=59, offs=4)
*/
ATSstaticdec()
ats_ptr_type
ref_01088_ats_bool_type (ats_bool_type arg0) {
/* local vardec */
ATSlocal (ats_ptr_type, tmp33) ;
ATSlocal (ats_bool_type, tmp34) ;

__ats_lab_ref_01088_ats_bool_type:
/* ats_bool_type tmp34 ; */
tmp34 = arg0 ;
tmp33 = atspre_ref_make_elt_tsz ((&tmp34), sizeof(ats_bool_type)) ;
return (tmp33) ;
} /* end of [ref_01088_ats_bool_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/reference.dats: 1994(line=62, offs=27) -- 2009(line=62, offs=42)
*/
ATSstaticdec()
ats_ptr_type
ref_make_elt_01089_ats_bool_type (ats_bool_type arg0) {
/* local vardec */
ATSlocal (ats_ptr_type, tmp32) ;

__ats_lab_ref_make_elt_01089_ats_bool_type:
tmp32 = ref_01088_ats_bool_type (arg0) ;
return (tmp32) ;
} /* end of [ref_make_elt_01089_ats_bool_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/reference.dats: 1828(line=57, offs=18) -- 1902(line=59, offs=4)
*/
ATSstaticdec()
ats_ptr_type
ref_01088_ats_double_type (ats_double_type arg0) {
/* local vardec */
ATSlocal (ats_ptr_type, tmp38) ;
ATSlocal (ats_double_type, tmp39) ;

__ats_lab_ref_01088_ats_double_type:
/* ats_double_type tmp39 ; */
tmp39 = arg0 ;
tmp38 = atspre_ref_make_elt_tsz ((&tmp39), sizeof(ats_double_type)) ;
return (tmp38) ;
} /* end of [ref_01088_ats_double_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/reference.dats: 1994(line=62, offs=27) -- 2009(line=62, offs=42)
*/
ATSstaticdec()
ats_ptr_type
ref_make_elt_01089_ats_double_type (ats_double_type arg0) {
/* local vardec */
ATSlocal (ats_ptr_type, tmp37) ;

__ats_lab_ref_make_elt_01089_ats_double_type:
tmp37 = ref_01088_ats_double_type (arg0) ;
return (tmp37) ;
} /* end of [ref_make_elt_01089_ats_double_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 4960(line=209, offs=27) -- 4977(line=209, offs=44)
*/
ATSglobaldec()
ats_bool_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameOver_get () {
/* local vardec */
ATSlocal (ats_bool_type, tmp40) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameOver_get:
tmp40 = ats_ptrget_mac(ats_bool_type, statmp31) ;
return (tmp40) ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameOver_get] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 5004(line=210, offs=27) -- 5029(line=210, offs=52)
*/
ATSglobaldec()
ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameOver_set () {
/* local vardec */
// ATSlocal_void (tmp41) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameOver_set:
ats_ptrget_mac(ats_bool_type, statmp31) = ats_true_bool ;
return /* (tmp41) */ ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameOver_set] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 5058(line=212, offs=28) -- 5069(line=212, offs=39)
*/
ATSglobaldec()
ats_int_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameLevel_get () {
/* local vardec */
ATSlocal (ats_int_type, tmp42) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameLevel_get:
tmp42 = ats_ptrget_mac(ats_int_type, statmp35) ;
return (tmp42) ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameLevel_get] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 5106(line=214, offs=36) -- 5159(line=215, offs=49)
*/
ATSglobaldec()
ats_uint_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_get () {
/* local vardec */
ATSlocal (ats_uint_type, tmp43) ;
ATSlocal (ats_double_type, tmp44) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_get:
tmp44 = ats_ptrget_mac(ats_double_type, statmp36) ;
tmp43 = atspre_uint_of_double (tmp44) ;
return (tmp43) ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_get] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 5233(line=218, offs=36) -- 5361(line=224, offs=4)
*/
ATSglobaldec()
ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_inc () {
/* local vardec */
// ATSlocal_void (tmp45) ;
ATSlocal (ats_double_type, tmp46) ;
ATSlocal (ats_double_type, tmp47) ;
ATSlocal (ats_bool_type, tmp48) ;
ATSlocal (ats_int_type, tmp49) ;
ATSlocal (ats_int_type, tmp50) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_inc:
tmp47 = ats_ptrget_mac(ats_double_type, statmp36) ;
tmp46 = atspre_mul_double_double (1.25, tmp47) ;
tmp48 = atspre_lte_double_double (tmp46, 1000.0) ;
if (tmp48) {
ats_ptrget_mac(ats_double_type, statmp36) = tmp46 ;
tmp50 = ats_ptrget_mac(ats_int_type, statmp35) ;
tmp49 = atspre_sub_int_int (tmp50, 1) ;
ats_ptrget_mac(ats_int_type, statmp35) = tmp49 ;
} else {
/* empty */
} /* end of [if] */
return /* (tmp45) */ ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_inc] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 5435(line=226, offs=36) -- 5561(line=232, offs=4)
*/
ATSglobaldec()
ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_dec () {
/* local vardec */
// ATSlocal_void (tmp51) ;
ATSlocal (ats_double_type, tmp52) ;
ATSlocal (ats_double_type, tmp53) ;
ATSlocal (ats_bool_type, tmp54) ;
ATSlocal (ats_int_type, tmp55) ;
ATSlocal (ats_int_type, tmp56) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_dec:
tmp53 = ats_ptrget_mac(ats_double_type, statmp36) ;
tmp52 = atspre_div_double_double (tmp53, 1.25) ;
tmp54 = atspre_gte_double_double (tmp52, 20.0) ;
if (tmp54) {
ats_ptrget_mac(ats_double_type, statmp36) = tmp52 ;
tmp56 = ats_ptrget_mac(ats_int_type, statmp35) ;
tmp55 = atspre_add_int_int (tmp56, 1) ;
ats_ptrget_mac(ats_int_type, statmp35) = tmp55 ;
} else {
/* empty */
} /* end of [if] */
return /* (tmp51) */ ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_dec] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 5842(line=249, offs=29) -- 5864(line=249, offs=51)
*/
ATSglobaldec()
ats_int_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTotalScore_get () {
/* local vardec */
ATSlocal (ats_int_type, tmp58) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTotalScore_get:
tmp58 = ats_ptrget_mac(ats_int_type, statmp57) ;
return (tmp58) ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTotalScore_get] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 5896(line=251, offs=31) -- 6242(line=262, offs=4)
*/
ATSglobaldec()
ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTotalScore_incby (ats_int_type arg0) {
/* local vardec */
// ATSlocal_void (tmp59) ;
ATSlocal (ats_int_type, tmp60) ;
ATSlocal (ats_int_type, tmp61) ;
ATSlocal (ats_int_type, tmp62) ;
// ATSlocal_void (tmp63) ;
ATSlocal (ats_bool_type, tmp64) ;
ATSlocal (ats_int_type, tmp65) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTotalScore_incby:
tmp60 = ats_ptrget_mac(ats_int_type, statmp57) ;
tmp61 = atspre_add_int_int (tmp60, arg0) ;
tmp62 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameLevel_get () ;
tmp65 = atspre_mul_int_int (1000, tmp62) ;
tmp64 = atspre_gt_int_int (tmp61, tmp65) ;
if (tmp64) {
/* tmp63 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_dec () ;
} else {
/* empty */
} /* end of [if] */
ats_ptrget_mac(ats_int_type, statmp57) = tmp61 ;
return /* (tmp59) */ ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTotalScore_incby] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 6323(line=268, offs=4) -- 6379(line=269, offs=32)
*/
ATSstaticdec()
ats_void_type
FRAME_glClear_17 () {
/* local vardec */
// ATSlocal_void (tmp66) ;

__ats_lab_FRAME_glClear_17:
/* tmp66 = */ atsctrb_glClear (GL_COLOR_BUFFER_BIT) ;
return /* (tmp66) */ ;
} /* end of [FRAME_glClear_17] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 6384(line=271, offs=4) -- 6438(line=272, offs=28)
*/
ATSstaticdec()
ats_void_type
FRAME_glColor3d_18 () {
/* local vardec */
// ATSlocal_void (tmp67) ;

__ats_lab_FRAME_glColor3d_18:
/* tmp67 = */ atsctrb_glColor3d (0.0, 0.0, 0.0) ;
return /* (tmp67) */ ;
} /* end of [FRAME_glColor3d_18] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/array.dats: 4282(line=152, offs=7) -- 4714(line=165, offs=8)
*/
ATSstaticdec()
ats_void_type
loop_21 (ats_ptr_type arg0, ats_size_type arg1, ats_int_type arg2) {
/* local vardec */
// ATSlocal_void (tmp76) ;
ATSlocal (ats_bool_type, tmp77) ;
ATSlocal (ats_ptr_type, tmp78) ;
ATSlocal (ats_size_type, tmp79) ;

__ats_lab_loop_21:
tmp77 = atspre_gt_size1_int1 (arg1, 0) ;
if (tmp77) {
ats_ptrget_mac(ats_int_type, arg0) = arg2 ;
tmp78 = atspre_padd_size (arg0, sizeof(ats_int_type)) ;
tmp79 = atspre_sub_size1_int1 (arg1, 1) ;
arg0 = tmp78 ;
arg1 = tmp79 ;
arg2 = arg2 ;
goto __ats_lab_loop_21 ; // tail call
} else {
/* empty */
} /* end of [if] */
return /* (tmp76) */ ;
} /* end of [loop_21] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/array.dats: 4202(line=148, offs=26) -- 4820(line=170, offs=4)
*/
ATSstaticdec()
ats_void_type
array_ptr_initialize_elt_01568_ats_int_type (ats_ref_type arg0, ats_size_type arg1, ats_int_type arg2) {
/* local vardec */
// ATSlocal_void (tmp75) ;

__ats_lab_array_ptr_initialize_elt_01568_ats_int_type:
/* tmp75 = */ loop_21 (arg0, arg1, arg2) ;
return /* (tmp75) */ ;
} /* end of [array_ptr_initialize_elt_01568_ats_int_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/matrix.dats: 3777(line=144, offs=17) -- 4247(line=156, offs=6)
*/
ATSstaticdec()
ats_ptr_type
matrix_make_elt_01652_ats_int_type (ats_size_type arg0, ats_size_type arg1, ats_int_type arg2) {
/* local vardec */
ATSlocal (ats_ptr_type, tmp69) ;
ATSlocal (ats_size_type, tmp70) ;
ATSlocal (ats_size_type, tmp71) ;
ATSlocal (ats_ptr_type, tmp72) ;
ATSlocal (ats_ptr_type, tmp73) ;
// ATSlocal_void (tmp74) ;
// ATSlocal_void (tmp80) ;
// ATSlocal_void (tmp81) ;

__ats_lab_matrix_make_elt_01652_ats_int_type:
tmp70 = atspre_mul2_size1_size1 (arg0, arg1) ;
tmp71 = ats_selsin_mac(tmp70, atslab_1) ;
tmp72 = atspre_array_ptr_alloc_tsz (tmp71, sizeof(ats_int_type)) ;
tmp73 = ats_selsin_mac(tmp72, atslab_2) ;
/* tmp74 = */ array_ptr_initialize_elt_01568_ats_int_type (tmp73, tmp71, arg2) ;
/* tmp80 = */ atspre_vbox_make_view_ptr (tmp73) ;
/* tmp81 = ats_selsin_mac(tmp80, atslab_1) */ ;
tmp69 = tmp73 ;
return (tmp69) ;
} /* end of [matrix_make_elt_01652_ats_int_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/matrix.dats: 2546(line=91, offs=24) -- 2623(line=92, offs=58)
*/
ATSstaticdec()
ats_ptr_type
matrix_ptr_takeout_elt_01648_ats_int_type (ats_ptr_type arg0, ats_size_type arg1, ats_size_type arg2, ats_size_type arg3) {
/* local vardec */
ATSlocal (ats_ptr_type, tmp96) ;

__ats_lab_matrix_ptr_takeout_elt_01648_ats_int_type:
tmp96 = atspre_matrix_ptr_takeout_elt_tsz (arg0, arg1, arg2, arg3, sizeof(ats_int_type)) ;
return (tmp96) ;
} /* end of [matrix_ptr_takeout_elt_01648_ats_int_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/matrix.dats: 7541(line=287, offs=19) -- 7746(line=295, offs=4)
*/
ATSstaticdec()
ats_void_type
matrix_set_elt_at_01657_ats_int_type (ats_ptr_type arg0, ats_size_type arg1, ats_size_type arg2, ats_size_type arg3, ats_int_type arg4) {
/* local vardec */
// ATSlocal_void (tmp94) ;
ATSlocal (ats_ptr_type, tmp95) ;
ATSlocal (ats_ptr_type, tmp97) ;
ATSlocal (ats_ptr_type, tmp98) ;

__ats_lab_matrix_set_elt_at_01657_ats_int_type:
tmp97 = ats_selsin_mac(arg0, atslab_data) ;
tmp95 = matrix_ptr_takeout_elt_01648_ats_int_type (tmp97, arg1, arg2, arg3) ;
tmp98 = ats_selsin_mac(tmp95, atslab_2) ;
ats_ptrget_mac(ats_int_type, tmp98) = arg4 ;
return /* (tmp94) */ ;
} /* end of [matrix_set_elt_at_01657_ats_int_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/matrix.dats: 8051(line=311, offs=3) -- 8167(line=315, offs=4)
*/
ATSstaticdec()
ats_void_type
matrix_set_elt_at__intsz_01659_ats_int_type (ats_ptr_type arg0, ats_int_type arg1, ats_int_type arg2, ats_int_type arg3, ats_int_type arg4) {
/* local vardec */
// ATSlocal_void (tmp90) ;
ATSlocal (ats_size_type, tmp91) ;
ATSlocal (ats_size_type, tmp92) ;
ATSlocal (ats_size_type, tmp93) ;

__ats_lab_matrix_set_elt_at__intsz_01659_ats_int_type:
tmp91 = atspre_size1_of_int1 (arg1) ;
tmp92 = atspre_size1_of_int1 (arg2) ;
tmp93 = atspre_size1_of_int1 (arg3) ;
/* tmp90 = */ matrix_set_elt_at_01657_ats_int_type (arg0, tmp91, tmp92, tmp93, arg4) ;
return /* (tmp90) */ ;
} /* end of [matrix_set_elt_at__intsz_01659_ats_int_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 6803(line=283, offs=6) -- 6973(line=287, offs=6)
*/
ATSstaticdec()
ats_void_type
restore_23 (ats_int_type env0, ats_ref_type arg0) {
/* local vardec */
// ATSlocal_void (tmp85) ;
ATSlocal (ats_int_type, tmp86) ;
ATSlocal (ats_bool_type, tmp87) ;
ATSlocal (ats_int_type, tmp88) ;
// ATSlocal_void (tmp89) ;
ATSlocal (ats_int_type, tmp99) ;

__ats_lab_restore_23:
/* ats_int_type tmp86 ; */
/* loop initialization */
tmp86 = 0 ;
ats_loop_beg_mac(__ats_lab_0)
tmp87 = atspre_ilt (tmp86, 12) ;
if (!tmp87) break ;
tmp99 = ats_caselptrind_mac(ats_int_type, arg0, [tmp86]) ;
/* tmp89 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp68, tmp86, 24, env0, tmp99) ;
/* post update before continue */
__ats_lab_2:
tmp88 = atspre_iadd (tmp86, 1) ;
tmp86 = tmp88 ;
ats_loop_end_mac(__ats_lab_0, __ats_lab_1)
return /* (tmp85) */ ;
} /* end of [restore_23] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_int_type closure_env_0 ;
} restore_23_closure_type ;

ats_void_type
restore_23_clofun (ats_clo_ptr_type cloptr, ats_ref_type arg0) {
restore_23 (((restore_23_closure_type*)cloptr)->closure_env_0, arg0) ; return ;
} /* end of function */

ATSinline()
ats_void_type
restore_23_closure_init (restore_23_closure_type *p_clo, ats_int_type env0) {
p_clo->closure_fun = (ats_fun_ptr_type)&restore_23_clofun ;
p_clo->closure_env_0 = env0 ;
return ;
} /* end of function */

ats_clo_ptr_type
restore_23_closure_make (ats_int_type env0) {
restore_23_closure_type *p_clo = ATS_MALLOC(sizeof(restore_23_closure_type)) ;
restore_23_closure_init (p_clo, env0) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 6999(line=288, offs=6) -- 7174(line=292, offs=6)
*/
ATSstaticdec()
ats_void_type
disappear_27 (ats_int_type env0, ats_ref_type arg0) {
/* local vardec */
// ATSlocal_void (tmp100) ;
ATSlocal (ats_int_type, tmp101) ;
ATSlocal (ats_bool_type, tmp102) ;
ATSlocal (ats_int_type, tmp103) ;
// ATSlocal_void (tmp104) ;

__ats_lab_disappear_27:
/* ats_int_type tmp101 ; */
/* loop initialization */
tmp101 = 0 ;
ats_loop_beg_mac(__ats_lab_3)
tmp102 = atspre_ilt (tmp101, 12) ;
if (!tmp102) break ;
/* tmp104 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp68, tmp101, 24, env0, -1) ;
/* post update before continue */
__ats_lab_5:
tmp103 = atspre_iadd (tmp101, 1) ;
tmp101 = tmp103 ;
ats_loop_end_mac(__ats_lab_3, __ats_lab_4)
return /* (tmp100) */ ;
} /* end of [disappear_27] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_int_type closure_env_0 ;
} disappear_27_closure_type ;

ats_void_type
disappear_27_clofun (ats_clo_ptr_type cloptr, ats_ref_type arg0) {
disappear_27 (((disappear_27_closure_type*)cloptr)->closure_env_0, arg0) ; return ;
} /* end of function */

ATSinline()
ats_void_type
disappear_27_closure_init (disappear_27_closure_type *p_clo, ats_int_type env0) {
p_clo->closure_fun = (ats_fun_ptr_type)&disappear_27_clofun ;
p_clo->closure_env_0 = env0 ;
return ;
} /* end of function */

ats_clo_ptr_type
disappear_27_closure_make (ats_int_type env0) {
disappear_27_closure_type *p_clo = ATS_MALLOC(sizeof(disappear_27_closure_type)) ;
disappear_27_closure_init (p_clo, env0) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/matrix.dats: 7273(line=276, offs=19) -- 7478(line=284, offs=4)
*/
ATSstaticdec()
ats_int_type
matrix_get_elt_at_01656_ats_int_type (ats_ptr_type arg0, ats_size_type arg1, ats_size_type arg2, ats_size_type arg3) {
/* local vardec */
ATSlocal (ats_int_type, tmp114) ;
ATSlocal (ats_ptr_type, tmp115) ;
ATSlocal (ats_ptr_type, tmp116) ;
ATSlocal (ats_ptr_type, tmp117) ;

__ats_lab_matrix_get_elt_at_01656_ats_int_type:
tmp116 = ats_selsin_mac(arg0, atslab_data) ;
tmp115 = matrix_ptr_takeout_elt_01648_ats_int_type (tmp116, arg1, arg2, arg3) ;
tmp117 = ats_selsin_mac(tmp115, atslab_2) ;
tmp114 = ats_ptrget_mac(ats_int_type, tmp117) ;
return (tmp114) ;
} /* end of [matrix_get_elt_at_01656_ats_int_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/matrix.dats: 7862(line=303, offs=3) -- 7972(line=307, offs=4)
*/
ATSstaticdec()
ats_int_type
matrix_get_elt_at__intsz_01658_ats_int_type (ats_ptr_type arg0, ats_int_type arg1, ats_int_type arg2, ats_int_type arg3) {
/* local vardec */
ATSlocal (ats_int_type, tmp110) ;
ATSlocal (ats_size_type, tmp111) ;
ATSlocal (ats_size_type, tmp112) ;
ATSlocal (ats_size_type, tmp113) ;

__ats_lab_matrix_get_elt_at__intsz_01658_ats_int_type:
tmp111 = atspre_size1_of_int1 (arg1) ;
tmp112 = atspre_size1_of_int1 (arg2) ;
tmp113 = atspre_size1_of_int1 (arg3) ;
tmp110 = matrix_get_elt_at_01656_ats_int_type (arg0, tmp111, tmp112, tmp113) ;
return (tmp110) ;
} /* end of [matrix_get_elt_at__intsz_01658_ats_int_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 7237(line=294, offs=8) -- 7412(line=298, offs=8)
*/
ATSstaticdec()
ats_void_type
save_28 (ats_int_type env0, ats_ref_type arg0) {
/* local vardec */
// ATSlocal_void (tmp105) ;
ATSlocal (ats_int_type, tmp106) ;
ATSlocal (ats_bool_type, tmp107) ;
ATSlocal (ats_int_type, tmp108) ;
ATSlocal (ats_int_type, tmp109) ;

__ats_lab_save_28:
/* ats_int_type tmp106 ; */
/* loop initialization */
tmp106 = 0 ;
ats_loop_beg_mac(__ats_lab_6)
tmp107 = atspre_ilt (tmp106, 12) ;
if (!tmp107) break ;
tmp109 = matrix_get_elt_at__intsz_01658_ats_int_type (statmp68, tmp106, 24, env0) ;
ats_caselptrind_mac(ats_int_type, arg0, [tmp106]) = tmp109 ;
/* post update before continue */
__ats_lab_8:
tmp108 = atspre_iadd (tmp106, 1) ;
tmp106 = tmp108 ;
ats_loop_end_mac(__ats_lab_6, __ats_lab_7)
return /* (tmp105) */ ;
} /* end of [save_28] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_int_type closure_env_0 ;
} save_28_closure_type ;

ats_void_type
save_28_clofun (ats_clo_ptr_type cloptr, ats_ref_type arg0) {
save_28 (((save_28_closure_type*)cloptr)->closure_env_0, arg0) ; return ;
} /* end of function */

ATSinline()
ats_void_type
save_28_closure_init (save_28_closure_type *p_clo, ats_int_type env0) {
p_clo->closure_fun = (ats_fun_ptr_type)&save_28_clofun ;
p_clo->closure_env_0 = env0 ;
return ;
} /* end of function */

ats_clo_ptr_type
save_28_closure_make (ats_int_type env0) {
save_28_closure_type *p_clo = ATS_MALLOC(sizeof(save_28_closure_type)) ;
save_28_closure_init (p_clo, env0) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 6636(line=279, offs=27) -- 7848(line=313, offs=4)
*/
ATSglobaldec()
ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__FRAME_row_flash (ats_int_type arg0) {
/* local vardec */
// ATSlocal_void (tmp82) ;
ATSlocal (ats_ptr_type, tmp83) ;
ATSlocal (ats_int_type, tmp84) ;
// ATSlocal_void (tmp118) ;
ATSlocal (ats_int_type, tmp119) ;
ATSlocal (ats_bool_type, tmp120) ;
ATSlocal (ats_int_type, tmp121) ;
// ATSlocal_void (tmp122) ;
// ATSlocal_void (tmp123) ;
ATSlocal (ats_int_type, tmp124) ;
// ATSlocal_void (tmp125) ;
// ATSlocal_void (tmp126) ;
ATSlocal (ats_int_type, tmp127) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__FRAME_row_flash:
/* ats_ptr_type tmp83 ; */
/* array allocation on stack */
tmp83 = ATS_ALLOCA2(12, sizeof(ats_int_type)) ;
tmp84 = -1 ;
/* array initialization */
atspre_array_ptr_initialize_elt_tsz (tmp83, 12, &tmp84, sizeof(ats_int_type)) ;
/* tmp118 = */ save_28 (arg0, tmp83) ;
/* ats_int_type tmp119 ; */
tmp119 = 6 ;
/* loop initialization */
/* empty */
ats_loop_beg_mac(__ats_lab_9)
tmp120 = atspre_gt_int_int (tmp119, 0) ;
if (!tmp120) break ;
tmp121 = atspre_sub_int_int (tmp119, 1) ;
tmp119 = tmp121 ;
/* tmp122 = */ disappear_27 (arg0, tmp83) ;
/* tmp123 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__glTetrix_display_main (0) ;
tmp124 = atslib_usleep (25000) ;
/* tmp125 = */ restore_23 (arg0, tmp83) ;
/* tmp126 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__glTetrix_display_main (0) ;
tmp127 = atslib_usleep (25000) ;
ats_loop_end_mac(__ats_lab_9, __ats_lab_10)
return /* (tmp82) */ ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__FRAME_row_flash] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 7999(line=319, offs=6) -- 8204(line=324, offs=6)
*/
ATSstaticdec()
ats_void_type
remove_one_32 (ats_int_type arg0) {
/* local vardec */
// ATSlocal_void (tmp129) ;
ATSlocal (ats_int_type, tmp130) ;
ATSlocal (ats_bool_type, tmp131) ;
ATSlocal (ats_int_type, tmp132) ;
// ATSlocal_void (tmp133) ;
ATSlocal (ats_int_type, tmp134) ;
ATSlocal (ats_int_type, tmp135) ;

__ats_lab_remove_one_32:
/* ats_int_type tmp130 ; */
/* loop initialization */
tmp130 = 0 ;
ats_loop_beg_mac(__ats_lab_11)
tmp131 = atspre_ilt (tmp130, 12) ;
if (!tmp131) break ;
tmp135 = atspre_iadd (arg0, 1) ;
tmp134 = matrix_get_elt_at__intsz_01658_ats_int_type (statmp68, tmp130, 24, tmp135) ;
/* tmp133 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp68, tmp130, 24, arg0, tmp134) ;
/* post update before continue */
__ats_lab_13:
tmp132 = atspre_iadd (tmp130, 1) ;
tmp130 = tmp132 ;
ats_loop_end_mac(__ats_lab_11, __ats_lab_12)
return /* (tmp129) */ ;
} /* end of [remove_one_32] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 8234(line=325, offs=6) -- 8403(line=330, offs=6)
*/
ATSstaticdec()
ats_void_type
remove_last_33 () {
/* local vardec */
// ATSlocal_void (tmp136) ;
ATSlocal (ats_int_type, tmp137) ;
ATSlocal (ats_bool_type, tmp138) ;
ATSlocal (ats_int_type, tmp139) ;
// ATSlocal_void (tmp140) ;
ATSlocal (ats_int_type, tmp141) ;

__ats_lab_remove_last_33:
/* ats_int_type tmp137 ; */
/* loop initialization */
tmp137 = 0 ;
ats_loop_beg_mac(__ats_lab_14)
tmp138 = atspre_ilt (tmp137, 12) ;
if (!tmp138) break ;
tmp141 = atspre_isub (24, 1) ;
/* tmp140 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp68, tmp137, 24, tmp141, -1) ;
/* post update before continue */
__ats_lab_16:
tmp139 = atspre_iadd (tmp137, 1) ;
tmp137 = tmp139 ;
ats_loop_end_mac(__ats_lab_14, __ats_lab_15)
return /* (tmp136) */ ;
} /* end of [remove_last_33] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 7983(line=318, offs=28) -- 8566(line=336, offs=4)
*/
ATSglobaldec()
ats_void_type
FRAME_row_remove (ats_int_type arg0) {
/* local vardec */
// ATSlocal_void (tmp128) ;
ATSlocal (ats_int_type, tmp142) ;
ATSlocal (ats_bool_type, tmp143) ;
ATSlocal (ats_int_type, tmp144) ;
ATSlocal (ats_int_type, tmp145) ;
// ATSlocal_void (tmp146) ;

__ats_lab_FRAME_row_remove:
/* ats_int_type tmp142 ; */
/* loop initialization */
tmp142 = arg0 ;
ats_loop_beg_mac(__ats_lab_17)
tmp144 = atspre_isub (24, 1) ;
tmp143 = atspre_ilt (tmp142, tmp144) ;
if (!tmp143) break ;
/* tmp146 = */ remove_one_32 (tmp142) ;
/* post update before continue */
__ats_lab_19:
tmp145 = atspre_iadd (tmp142, 1) ;
tmp142 = tmp145 ;
ats_loop_end_mac(__ats_lab_17, __ats_lab_18)
/* tmp128 = */ remove_last_33 () ;
return /* (tmp128) */ ;
} /* end of [FRAME_row_remove] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 8765(line=345, offs=6) -- 9062(line=355, offs=6)
*/
ATSstaticdec()
ats_bool_type
test_35 (ats_int_type arg0) {
/* local vardec */
ATSlocal (ats_bool_type, tmp148) ;
ATSlocal (ats_bool_type, tmp149) ;
ATSlocal (ats_int_type, tmp150) ;
ATSlocal (ats_bool_type, tmp151) ;
ATSlocal (ats_int_type, tmp152) ;
ATSlocal (ats_int_type, tmp153) ;
ATSlocal (ats_bool_type, tmp155) ;

__ats_lab_test_35:
/* ats_bool_type tmp149 ; */
tmp149 = ats_true_bool ;
/* ats_int_type tmp150 ; */
/* loop initialization */
tmp150 = 0 ;
ats_loop_beg_mac(__ats_lab_20)
tmp151 = atspre_ilt (tmp150, 12) ;
if (!tmp151) break ;
tmp153 = matrix_get_elt_at__intsz_01658_ats_int_type (statmp68, tmp150, 24, arg0) ;
tmp155 = color_is_none (tmp153) ;
if (tmp155) {
tmp149 = ats_false_bool ;
goto __ats_lab_21 ;
} else {
/* empty */
} /* end of [if] */
/* post update before continue */
__ats_lab_22:
tmp152 = atspre_iadd (tmp150, 1) ;
tmp150 = tmp152 ;
ats_loop_end_mac(__ats_lab_20, __ats_lab_21)
tmp148 = tmp149 ;
return (tmp148) ;
} /* end of [test_35] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 8751(line=344, offs=32) -- 9312(line=365, offs=4)
*/
ATSglobaldec()
ats_void_type
FRAME_rows_remove_if () {
/* local vardec */
// ATSlocal_void (tmp147) ;
ATSlocal (ats_int_type, tmp156) ;
ATSlocal (ats_bool_type, tmp157) ;
// ATSlocal_void (tmp158) ;
ATSlocal (ats_bool_type, tmp159) ;
// ATSlocal_void (tmp160) ;
// ATSlocal_void (tmp161) ;
ATSlocal (ats_int_type, tmp162) ;

__ats_lab_FRAME_rows_remove_if:
/* ats_int_type tmp156 ; */
tmp156 = 0 ;
/* loop initialization */
/* empty */
ats_loop_beg_mac(__ats_lab_23)
tmp157 = atspre_ilt (tmp156, 24) ;
if (!tmp157) break ;
tmp159 = test_35 (tmp156) ;
if (tmp159) {
/* tmp160 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTotalScore_incby (100) ;
/* tmp161 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__FRAME_row_flash (tmp156) ;
/* tmp158 = */ FRAME_row_remove (tmp156) ;
} else {
tmp162 = atspre_iadd (tmp156, 1) ;
tmp156 = tmp162 ;
} /* end of [if] */
ats_loop_end_mac(__ats_lab_23, __ats_lab_24)
return /* (tmp147) */ ;
} /* end of [FRAME_rows_remove_if] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 9867(line=386, offs=7) -- 10094(line=392, offs=6)
*/
ATSstaticdec()
ats_void_type
loop_37 (ats_double_type env0, ats_double_type env1, ats_double_type env2, ats_int_type env3, ats_double_type env4, ats_int_type arg0, ats_double_type arg1) {
/* local vardec */
// ATSlocal_void (tmp165) ;
// ATSlocal_void (tmp166) ;
ATSlocal (ats_double_type, tmp167) ;
ATSlocal (ats_double_type, tmp168) ;
ATSlocal (ats_double_type, tmp169) ;
ATSlocal (ats_double_type, tmp170) ;
ATSlocal (ats_double_type, tmp171) ;
ATSlocal (ats_double_type, tmp172) ;
ATSlocal (ats_bool_type, tmp173) ;
ATSlocal (ats_int_type, tmp174) ;
ATSlocal (ats_double_type, tmp175) ;

__ats_lab_loop_37:
tmp169 = atslib_cos (arg1) ;
tmp168 = atspre_mul_double_double (env2, tmp169) ;
tmp167 = atspre_add_double_double (env0, tmp168) ;
tmp172 = atslib_sin (arg1) ;
tmp171 = atspre_mul_double_double (env2, tmp172) ;
tmp170 = atspre_add_double_double (env1, tmp171) ;
/* tmp166 = */ atsctrb_glVertex3d (tmp167, tmp170, 0.0) ;
tmp173 = atspre_ilt (arg0, env3) ;
if (tmp173) {
tmp174 = atspre_iadd (arg0, 1) ;
tmp175 = atspre_add_double_double (arg1, env4) ;
arg0 = tmp174 ;
arg1 = tmp175 ;
goto __ats_lab_loop_37 ; // tail call
} else {
/* empty */
} /* end of [if] */
return /* (tmp165) */ ;
} /* end of [loop_37] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_double_type closure_env_0 ;
ats_double_type closure_env_1 ;
ats_double_type closure_env_2 ;
ats_int_type closure_env_3 ;
ats_double_type closure_env_4 ;
} loop_37_closure_type ;

ats_void_type
loop_37_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ats_double_type arg1) {
loop_37 (((loop_37_closure_type*)cloptr)->closure_env_0, ((loop_37_closure_type*)cloptr)->closure_env_1, ((loop_37_closure_type*)cloptr)->closure_env_2, ((loop_37_closure_type*)cloptr)->closure_env_3, ((loop_37_closure_type*)cloptr)->closure_env_4, arg0, arg1) ; return ;
} /* end of function */

ATSinline()
ats_void_type
loop_37_closure_init (loop_37_closure_type *p_clo, ats_double_type env0, ats_double_type env1, ats_double_type env2, ats_int_type env3, ats_double_type env4) {
p_clo->closure_fun = (ats_fun_ptr_type)&loop_37_clofun ;
p_clo->closure_env_0 = env0 ;
p_clo->closure_env_1 = env1 ;
p_clo->closure_env_2 = env2 ;
p_clo->closure_env_3 = env3 ;
p_clo->closure_env_4 = env4 ;
return ;
} /* end of function */

ats_clo_ptr_type
loop_37_closure_make (ats_double_type env0, ats_double_type env1, ats_double_type env2, ats_int_type env3, ats_double_type env4) {
loop_37_closure_type *p_clo = ATS_MALLOC(sizeof(loop_37_closure_type)) ;
loop_37_closure_init (p_clo, env0, env1, env2, env3, env4) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 9672(line=379, offs=4) -- 10159(line=396, offs=4)
*/
ATSstaticdec()
ats_void_type
drawArc_36 (ats_double_type arg0, ats_double_type arg1, ats_double_type arg2, ats_double_type arg3, ats_double_type arg4, ats_int_type arg5) {
/* local vardec */
// ATSlocal_void (tmp163) ;
ATSlocal (ats_double_type, tmp164) ;

__ats_lab_drawArc_36:
tmp164 = atspre_div_double_int (arg4, arg5) ;
/* tmp163 = */ loop_37 (arg0, arg1, arg2, arg5, tmp164, 0, arg3) ;
return /* (tmp163) */ ;
} /* end of [drawArc_36] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 10239(line=401, offs=4) -- 11182(line=424, offs=4)
*/
ATSstaticdec()
ats_void_type
drawBlock_38 (ats_int_type arg0, ats_int_type arg1) {
/* local vardec */
// ATSlocal_void (tmp176) ;
ATSlocal (ats_double_type, tmp177) ;
ATSlocal (ats_double_type, tmp178) ;
ATSlocal (ats_double_type, tmp179) ;
ATSlocal (ats_double_type, tmp180) ;
// ATSlocal_void (tmp181) ;
// ATSlocal_void (tmp182) ;
// ATSlocal_void (tmp183) ;
ATSlocal (ats_double_type, tmp184) ;
ATSlocal (ats_double_type, tmp185) ;
ATSlocal (ats_double_type, tmp186) ;
ATSlocal (ats_double_type, tmp187) ;
// ATSlocal_void (tmp188) ;
ATSlocal (ats_double_type, tmp189) ;
ATSlocal (ats_double_type, tmp190) ;
ATSlocal (ats_double_type, tmp191) ;
ATSlocal (ats_double_type, tmp192) ;
ATSlocal (ats_double_type, tmp193) ;
// ATSlocal_void (tmp194) ;
ATSlocal (ats_double_type, tmp195) ;
ATSlocal (ats_double_type, tmp196) ;
ATSlocal (ats_double_type, tmp197) ;
// ATSlocal_void (tmp198) ;
ATSlocal (ats_double_type, tmp199) ;
ATSlocal (ats_double_type, tmp200) ;
ATSlocal (ats_double_type, tmp201) ;
ATSlocal (ats_double_type, tmp202) ;

__ats_lab_drawBlock_38:
tmp177 = atspre_div_double_int (statmp15, 3) ;
tmp178 = atspre_sub_double_double (statmp15, tmp177) ;
tmp179 = atspre_mul_int_double (arg0, statmp15) ;
tmp180 = atspre_mul_int_double (arg1, statmp15) ;
/* tmp181 = */ atsctrb_glBegin (GL_POLYGON) ;
/* tmp182 = ats_selsin_mac(tmp181, atslab_1) */ ;
tmp184 = atspre_add_double_double (tmp179, tmp177) ;
tmp185 = atspre_add_double_double (tmp180, tmp177) ;
tmp186 = atspre_neg_double (3.1415926535898) ;
tmp187 = atspre_div_double_int (3.1415926535898, 2) ;
/* tmp183 = */ drawArc_36 (tmp184, tmp185, tmp177, tmp186, tmp187, 8) ;
tmp189 = atspre_add_double_double (tmp179, tmp178) ;
tmp190 = atspre_add_double_double (tmp180, tmp177) ;
tmp192 = atspre_neg_double (3.1415926535898) ;
tmp191 = atspre_div_double_int (tmp192, 2) ;
tmp193 = atspre_div_double_int (3.1415926535898, 2) ;
/* tmp188 = */ drawArc_36 (tmp189, tmp190, tmp177, tmp191, tmp193, 8) ;
tmp195 = atspre_add_double_double (tmp179, tmp178) ;
tmp196 = atspre_add_double_double (tmp180, tmp178) ;
tmp197 = atspre_div_double_int (3.1415926535898, 2) ;
/* tmp194 = */ drawArc_36 (tmp195, tmp196, tmp177, 0.0, tmp197, 8) ;
tmp199 = atspre_add_double_double (tmp179, tmp177) ;
tmp200 = atspre_add_double_double (tmp180, tmp178) ;
tmp201 = atspre_div_double_int (3.1415926535898, 2) ;
tmp202 = atspre_div_double_int (3.1415926535898, 2) ;
/* tmp198 = */ drawArc_36 (tmp199, tmp200, tmp177, tmp201, tmp202, 8) ;
/* tmp176 = */ atsctrb_glEnd () ;
return /* (tmp176) */ ;
} /* end of [drawBlock_38] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 11226(line=427, offs=4) -- 11750(line=439, offs=4)
*/
ATSstaticdec()
ats_void_type
glColor3d_color_39 (ats_int_type arg0) {
/* local vardec */
// ATSlocal_void (tmp203) ;
ATSlocal (ats_int_type, tmp204) ;

__ats_lab_glColor3d_color_39:
tmp204 = color_index_get (arg0) ;
do {
/* branch: __ats_lab_25 */
__ats_lab_25_0:
if (tmp204 != 1) { goto __ats_lab_26_0 ; }
__ats_lab_25_1:
/* tmp203 = */ atsctrb_glColor3d (1.0, 0.0, 0.0) ;
break ;

/* branch: __ats_lab_26 */
__ats_lab_26_0:
if (tmp204 != 2) { goto __ats_lab_27_0 ; }
__ats_lab_26_1:
/* tmp203 = */ atsctrb_glColor3d (0.0, 1.0, 0.0) ;
break ;

/* branch: __ats_lab_27 */
__ats_lab_27_0:
if (tmp204 != 3) { goto __ats_lab_28_0 ; }
__ats_lab_27_1:
/* tmp203 = */ atsctrb_glColor3d (0.5, 0.5, 1.0) ;
break ;

/* branch: __ats_lab_28 */
__ats_lab_28_0:
if (tmp204 != 4) { goto __ats_lab_29_0 ; }
__ats_lab_28_1:
/* tmp203 = */ atsctrb_glColor3d (1.0, 1.0, 0.0) ;
break ;

/* branch: __ats_lab_29 */
__ats_lab_29_0:
if (tmp204 != 5) { goto __ats_lab_30_0 ; }
__ats_lab_29_1:
/* tmp203 = */ atsctrb_glColor3d (1.0, 1.0, 0.0) ;
break ;

/* branch: __ats_lab_30 */
__ats_lab_30_0:
if (tmp204 != 6) { goto __ats_lab_31_0 ; }
__ats_lab_30_1:
/* tmp203 = */ atsctrb_glColor3d (1.0, 0.475, 0.475) ;
break ;

/* branch: __ats_lab_31 */
__ats_lab_31_0:
if (tmp204 != 7) { goto __ats_lab_32_0 ; }
__ats_lab_31_1:
/* tmp203 = */ atsctrb_glColor3d (1.0, 0.475, 0.475) ;
break ;

/* branch: __ats_lab_32 */
__ats_lab_32_0:
__ats_lab_32_1:
/* tmp203 = */ atsctrb_glColor3d (1.0, 1.0, 1.0) ;
break ;
} while (0) ;
return /* (tmp203) */ ;
} /* end of [glColor3d_color_39] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 11870(line=443, offs=6) -- 12368(line=461, offs=6)
*/
ATSstaticdec()
ats_void_type
loop_row_41 (ats_int_type arg0, ats_ptr_type arg1, ats_int_type arg2, ats_int_type arg3, ats_int_type arg4) {
/* local vardec */
// ATSlocal_void (tmp206) ;
ATSlocal (ats_int_type, tmp207) ;
ATSlocal (ats_bool_type, tmp208) ;
ATSlocal (ats_int_type, tmp209) ;
ATSlocal (ats_int_type, tmp210) ;
// ATSlocal_void (tmp211) ;
ATSlocal (ats_bool_type, tmp212) ;
// ATSlocal_void (tmp213) ;
ATSlocal (ats_bool_type, tmp214) ;

__ats_lab_loop_row_41:
/* ats_int_type tmp207 ; */
/* loop initialization */
tmp207 = 0 ;
ats_loop_beg_mac(__ats_lab_33)
tmp208 = atspre_ilt (tmp207, arg2) ;
if (!tmp208) break ;
tmp210 = matrix_get_elt_at__intsz_01658_ats_int_type (arg1, tmp207, arg3, arg4) ;
tmp212 = color_is_some (tmp210) ;
if (tmp212) {
tmp214 = atspre_gt_int_int (arg0, 0) ;
if (tmp214) {
/* tmp213 = */ glColor3d_color_39 (tmp210) ;
} else {
/* tmp213 = */ FRAME_glColor3d_18 () ;
} /* end of [if] */
/* tmp211 = */ drawBlock_38 (tmp207, arg4) ;
} else {
/* empty */
} /* end of [if] */
/* post update before continue */
__ats_lab_35:
tmp209 = atspre_iadd (tmp207, 1) ;
tmp207 = tmp209 ;
ats_loop_end_mac(__ats_lab_33, __ats_lab_34)
return /* (tmp206) */ ;
} /* end of [loop_row_41] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 11819(line=442, offs=4) -- 12637(line=469, offs=4)
*/
ATSstaticdec()
ats_void_type
shape_draw_40 (ats_int_type arg0, ats_ptr_type arg1) {
/* local vardec */
// ATSlocal_void (tmp205) ;
ATSlocal (ats_int_type, tmp215) ;
ATSlocal (ats_int_type, tmp216) ;
ATSlocal (ats_ptr_type, tmp217) ;
ATSlocal (ats_int_type, tmp218) ;
ATSlocal (ats_bool_type, tmp219) ;
ATSlocal (ats_int_type, tmp220) ;
// ATSlocal_void (tmp221) ;

__ats_lab_shape_draw_40:
tmp215 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_xlen_get (arg1) ;
tmp216 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_ylen_get (arg1) ;
tmp217 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_matrix_get (arg1) ;
/* ats_int_type tmp218 ; */
/* loop initialization */
tmp218 = 0 ;
ats_loop_beg_mac(__ats_lab_36)
tmp219 = atspre_ilt (tmp218, tmp216) ;
if (!tmp219) break ;
/* tmp221 = */ loop_row_41 (arg0, tmp217, tmp215, tmp216, tmp218) ;
/* post update before continue */
__ats_lab_38:
tmp220 = atspre_iadd (tmp218, 1) ;
tmp218 = tmp220 ;
ats_loop_end_mac(__ats_lab_36, __ats_lab_37)
return /* (tmp205) */ ;
} /* end of [shape_draw_40] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 12712(line=474, offs=3) -- 13411(line=493, offs=4)
*/
ATSglobaldec()
ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_draw_atrot (ats_int_type arg0, ats_ptr_type arg1, ats_int_type arg2, ats_int_type arg3, ats_int_type arg4) {
/* local vardec */
// ATSlocal_void (tmp222) ;
ATSlocal (ats_int_type, tmp223) ;
ATSlocal (ats_int_type, tmp224) ;
// ATSlocal_void (tmp225) ;
// ATSlocal_void (tmp226) ;
// ATSlocal_void (tmp227) ;
// ATSlocal_void (tmp228) ;
ATSlocal (ats_double_type, tmp229) ;
ATSlocal (ats_double_type, tmp230) ;
// ATSlocal_void (tmp231) ;
ATSlocal (ats_int_type, tmp232) ;
ATSlocal (ats_int_type, tmp233) ;
// ATSlocal_void (tmp234) ;
ATSlocal (ats_double_type, tmp235) ;
ATSlocal (ats_int_type, tmp236) ;
ATSlocal (ats_double_type, tmp237) ;
ATSlocal (ats_int_type, tmp238) ;
// ATSlocal_void (tmp239) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_draw_atrot:
tmp223 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_xlen_get (arg1) ;
tmp224 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_ylen_get (arg1) ;
/* tmp225 = */ atsctrb_glPushMatrix () ;
/* tmp226 = ats_selsin_mac(tmp225, atslab_1) */ ;
/* tmp227 = */ atsctrb_glTranslated (statmp19, statmp21, 0.0) ;
tmp229 = atspre_mul_int_double (arg2, statmp15) ;
tmp230 = atspre_mul_int_double (arg3, statmp15) ;
/* tmp228 = */ atsctrb_glTranslated (tmp229, tmp230, 0.0) ;
do {
/* branch: __ats_lab_39 */
__ats_lab_39_0:
if (arg4 != 0) { goto __ats_lab_40_0 ; }
__ats_lab_39_1:
break ;

/* branch: __ats_lab_40 */
__ats_lab_40_0:
if (arg4 != 1) { goto __ats_lab_41_0 ; }
__ats_lab_40_1:
/* tmp231 = */ atsctrb_glRotated (90.0, 0.0, 0.0, 1.0) ;
break ;

/* branch: __ats_lab_41 */
__ats_lab_41_0:
if (arg4 != 2) { goto __ats_lab_42_0 ; }
__ats_lab_41_1:
/* tmp231 = */ atsctrb_glRotated (180.0, 0.0, 0.0, 1.0) ;
break ;

/* branch: __ats_lab_42 */
__ats_lab_42_0:
// if (arg4 != 3) { ats_deadcode_failure_handle () ; }
__ats_lab_42_1:
/* tmp231 = */ atsctrb_glRotated (270.0, 0.0, 0.0, 1.0) ;
break ;
} while (0) ;
tmp232 = atspre_idiv (tmp223, 2) ;
tmp233 = atspre_idiv (tmp224, 2) ;
tmp236 = atspre_ineg (tmp232) ;
tmp235 = atspre_mul_int_double (tmp236, statmp15) ;
tmp238 = atspre_ineg (tmp233) ;
tmp237 = atspre_mul_int_double (tmp238, statmp15) ;
/* tmp234 = */ atsctrb_glTranslated (tmp235, tmp237, 0.0) ;
/* tmp239 = */ shape_draw_40 (arg0, arg1) ;
/* tmp222 = */ atsctrb_glPopMatrix () ;
return /* (tmp222) */ ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_draw_atrot] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 13863(line=509, offs=6) -- 14198(line=520, offs=8)
*/
ATSstaticdec()
ats_void_type
action_44 (ats_int_type env0, ats_int_type arg0, ats_int_type arg1, ats_int_type arg2, ats_ref_type arg3) {
/* local vardec */
// ATSlocal_void (tmp246) ;
ATSlocal (ats_bool_type, tmp247) ;
ATSlocal (ats_int_type, tmp248) ;
ATSlocal (ats_bool_type, tmp249) ;

__ats_lab_action_44:
tmp247 = atspre_gt_int_int (env0, 0) ;
if (tmp247) {
/* tmp246 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp68, arg1, 24, arg2, arg0) ;
} else {
tmp248 = matrix_get_elt_at__intsz_01658_ats_int_type (statmp68, arg1, 24, arg2) ;
tmp249 = color_is_some (tmp248) ;
if (tmp249) {
ats_ptrget_mac(ats_int_type, arg3) = 1 ;
} else {
/* empty */
} /* end of [if] */
} /* end of [if] */
return /* (tmp246) */ ;
} /* end of [action_44] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_int_type closure_env_0 ;
} action_44_closure_type ;

ats_void_type
action_44_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ats_int_type arg1, ats_int_type arg2, ats_ref_type arg3) {
action_44 (((action_44_closure_type*)cloptr)->closure_env_0, arg0, arg1, arg2, arg3) ; return ;
} /* end of function */

ATSinline()
ats_void_type
action_44_closure_init (action_44_closure_type *p_clo, ats_int_type env0) {
p_clo->closure_fun = (ats_fun_ptr_type)&action_44_clofun ;
p_clo->closure_env_0 = env0 ;
return ;
} /* end of function */

ats_clo_ptr_type
action_44_closure_make (ats_int_type env0) {
action_44_closure_type *p_clo = ATS_MALLOC(sizeof(action_44_closure_type)) ;
action_44_closure_init (p_clo, env0) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 14385(line=527, offs=11) -- 14465(line=528, offs=45)
*/
ATSstaticdec()
ats_int_type
loop1_45 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0) {
/* local vardec */
ATSlocal (ats_int_type, tmp277) ;

tmp277 = loop1_45_0loop2_46 (env0, env1, env2, env3, env4, env5, 0, arg0) ;
return (tmp277) ;
} /* end of [loop1_45] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_int_type closure_env_0 ;
ats_int_type closure_env_1 ;
ats_int_type closure_env_2 ;
ats_ptr_type closure_env_3 ;
ats_int_type closure_env_4 ;
ats_int_type closure_env_5 ;
} loop1_45_closure_type ;

ats_int_type
loop1_45_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) {
return loop1_45 (((loop1_45_closure_type*)cloptr)->closure_env_0, ((loop1_45_closure_type*)cloptr)->closure_env_1, ((loop1_45_closure_type*)cloptr)->closure_env_2, ((loop1_45_closure_type*)cloptr)->closure_env_3, ((loop1_45_closure_type*)cloptr)->closure_env_4, ((loop1_45_closure_type*)cloptr)->closure_env_5, arg0) ;
} /* end of function */

ATSinline()
ats_void_type
loop1_45_closure_init (loop1_45_closure_type *p_clo, ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
p_clo->closure_fun = (ats_fun_ptr_type)&loop1_45_clofun ;
p_clo->closure_env_0 = env0 ;
p_clo->closure_env_1 = env1 ;
p_clo->closure_env_2 = env2 ;
p_clo->closure_env_3 = env3 ;
p_clo->closure_env_4 = env4 ;
p_clo->closure_env_5 = env5 ;
return ;
} /* end of function */

ats_clo_ptr_type
loop1_45_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
loop1_45_closure_type *p_clo = ATS_MALLOC(sizeof(loop1_45_closure_type)) ;
loop1_45_closure_init (p_clo, env0, env1, env2, env3, env4, env5) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 14476(line=529, offs=11) -- 15190(line=549, offs=10)
*/
ATSstaticdec()
ats_int_type
loop2_46 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ats_int_type arg1) {
/* local vardec */
ATSlocal (ats_int_type, tmp278) ;

tmp278 = loop1_45_0loop2_46 (env0, env1, env2, env3, env4, env5, 1, arg0, arg1) ;
return (tmp278) ;
} /* end of [loop2_46] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_int_type closure_env_0 ;
ats_int_type closure_env_1 ;
ats_int_type closure_env_2 ;
ats_ptr_type closure_env_3 ;
ats_int_type closure_env_4 ;
ats_int_type closure_env_5 ;
} loop2_46_closure_type ;

ats_int_type
loop2_46_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ats_int_type arg1) {
return loop2_46 (((loop2_46_closure_type*)cloptr)->closure_env_0, ((loop2_46_closure_type*)cloptr)->closure_env_1, ((loop2_46_closure_type*)cloptr)->closure_env_2, ((loop2_46_closure_type*)cloptr)->closure_env_3, ((loop2_46_closure_type*)cloptr)->closure_env_4, ((loop2_46_closure_type*)cloptr)->closure_env_5, arg0, arg1) ;
} /* end of function */

ATSinline()
ats_void_type
loop2_46_closure_init (loop2_46_closure_type *p_clo, ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
p_clo->closure_fun = (ats_fun_ptr_type)&loop2_46_clofun ;
p_clo->closure_env_0 = env0 ;
p_clo->closure_env_1 = env1 ;
p_clo->closure_env_2 = env2 ;
p_clo->closure_env_3 = env3 ;
p_clo->closure_env_4 = env4 ;
p_clo->closure_env_5 = env5 ;
return ;
} /* end of function */

ats_clo_ptr_type
loop2_46_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
loop2_46_closure_type *p_clo = ATS_MALLOC(sizeof(loop2_46_closure_type)) ;
loop2_46_closure_init (p_clo, env0, env1, env2, env3, env4, env5) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 14385(line=527, offs=11) -- 15190(line=549, offs=10)
*/
ATSstaticdec()
ats_int_type
loop1_45_0loop2_46 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ...) {
/* local vardec */
ATSlocal (ats_int_type, tmp252) ;
ATSlocal (ats_int_type, tmp253) ;
ATSlocal (ats_int_type, tmp254) ;
ATSlocal (ats_int_type, tmp255) ;
ATSlocal (ats_bool_type, tmp256) ;
ATSlocal (ats_int_type, tmp257) ;
ATSlocal (ats_int_type, tmp258) ;
ATSlocal (ats_bool_type, tmp259) ;
ATSlocal (ats_int_type, tmp260) ;
// ATSlocal_void (tmp261) ;
ATSlocal (ats_bool_type, tmp262) ;
ATSlocal (ats_int_type, tmp263) ;
// ATSlocal_void (tmp264) ;
ATSlocal (ats_bool_type, tmp265) ;
// ATSlocal_void (tmp266) ;
ATSlocal (ats_bool_type, tmp267) ;
ATSlocal (ats_int_type, tmp268) ;
// ATSlocal_void (tmp269) ;
ATSlocal (ats_bool_type, tmp270) ;
// ATSlocal_void (tmp271) ;
ATSlocal (ats_bool_type, tmp272) ;
ATSlocal (ats_bool_type, tmp273) ;
ATSlocal (ats_int_type, tmp274) ;
ATSlocal (ats_int_type, tmp275) ;
ATSlocal (ats_int_type, tmp276) ;

va_list funarg ;

switch (arg0) {
case 0:
va_start(funarg, arg0) ;
tmp252 = va_arg(funarg, ats_int_type) ;
va_end(funarg) ;
goto __ats_lab_loop1_45 ;

case 1:
va_start(funarg, arg0) ;
tmp253 = va_arg(funarg, ats_int_type) ;
tmp254 = va_arg(funarg, ats_int_type) ;
va_end(funarg) ;
goto __ats_lab_loop2_46 ;

default: exit(1) ; /* deadcode */
} /* end of switch */

ATSlocal (va_list, arg1) ;
va_start(arg1, arg0) ;

__ats_lab_loop1_45:
tmp256 = atspre_ilt (tmp252, env1) ;
if (tmp256) {
tmp253 = tmp252 ;
tmp254 = 0 ;
goto __ats_lab_loop2_46 ; // tail call
} else {
tmp255 = 0 ;
} /* end of [if] */
return tmp255 ;

__ats_lab_loop2_46:
/* ats_int_type tmp258 ; */
tmp258 = 0 ;
tmp259 = atspre_ilt (tmp254, env2) ;
if (tmp259) {
tmp260 = matrix_get_elt_at__intsz_01658_ats_int_type (env3, tmp253, env2, tmp254) ;
tmp262 = color_is_some (tmp260) ;
if (tmp262) {
tmp263 = atspre_add_int_int (env4, tmp253) ;
tmp265 = atspre_ilte (0, ats_castfn_mac(ats_int_type, tmp263)) ;
/* tmp264 = */ atspre_assert (tmp265) ;
tmp267 = atspre_ilt (ats_castfn_mac(ats_int_type, tmp263), 12) ;
/* tmp266 = */ atspre_assert (tmp267) ;
tmp268 = atspre_add_int_int (env5, tmp254) ;
tmp270 = atspre_ilte (0, ats_castfn_mac(ats_int_type, tmp268)) ;
/* tmp269 = */ atspre_assert (tmp270) ;
tmp272 = atspre_ilt (ats_castfn_mac(ats_int_type, tmp268), 24) ;
/* tmp271 = */ atspre_assert (tmp272) ;
/* tmp261 = */ action_44 (env0, tmp260, ats_castfn_mac(ats_int_type, tmp263), ats_castfn_mac(ats_int_type, tmp268), (&tmp258)) ;
} else {
/* empty */
} /* end of [if] */
tmp273 = atspre_eq_int_int (tmp258, 0) ;
if (tmp273) {
tmp274 = atspre_iadd (tmp254, 1) ;
tmp253 = tmp253 ;
tmp254 = tmp274 ;
goto __ats_lab_loop2_46 ; // tail call
} else {
tmp257 = tmp258 ;
} /* end of [if] */
} else {
tmp275 = atspre_iadd (tmp253, 1) ;
tmp252 = tmp275 ;
goto __ats_lab_loop1_45 ; // tail call
} /* end of [if] */
return tmp257 ;

return (tmp276) ;
} /* end of [loop1_45_0loop2_46] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 15372(line=554, offs=11) -- 15452(line=555, offs=45)
*/
ATSstaticdec()
ats_int_type
loop1_48 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0) {
/* local vardec */
ATSlocal (ats_int_type, tmp307) ;

tmp307 = loop1_48_0loop2_49 (env0, env1, env2, env3, env4, env5, 0, arg0) ;
return (tmp307) ;
} /* end of [loop1_48] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_int_type closure_env_0 ;
ats_int_type closure_env_1 ;
ats_int_type closure_env_2 ;
ats_ptr_type closure_env_3 ;
ats_int_type closure_env_4 ;
ats_int_type closure_env_5 ;
} loop1_48_closure_type ;

ats_int_type
loop1_48_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) {
return loop1_48 (((loop1_48_closure_type*)cloptr)->closure_env_0, ((loop1_48_closure_type*)cloptr)->closure_env_1, ((loop1_48_closure_type*)cloptr)->closure_env_2, ((loop1_48_closure_type*)cloptr)->closure_env_3, ((loop1_48_closure_type*)cloptr)->closure_env_4, ((loop1_48_closure_type*)cloptr)->closure_env_5, arg0) ;
} /* end of function */

ATSinline()
ats_void_type
loop1_48_closure_init (loop1_48_closure_type *p_clo, ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
p_clo->closure_fun = (ats_fun_ptr_type)&loop1_48_clofun ;
p_clo->closure_env_0 = env0 ;
p_clo->closure_env_1 = env1 ;
p_clo->closure_env_2 = env2 ;
p_clo->closure_env_3 = env3 ;
p_clo->closure_env_4 = env4 ;
p_clo->closure_env_5 = env5 ;
return ;
} /* end of function */

ats_clo_ptr_type
loop1_48_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
loop1_48_closure_type *p_clo = ATS_MALLOC(sizeof(loop1_48_closure_type)) ;
loop1_48_closure_init (p_clo, env0, env1, env2, env3, env4, env5) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 15463(line=556, offs=11) -- 16181(line=576, offs=10)
*/
ATSstaticdec()
ats_int_type
loop2_49 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ats_int_type arg1) {
/* local vardec */
ATSlocal (ats_int_type, tmp308) ;

tmp308 = loop1_48_0loop2_49 (env0, env1, env2, env3, env4, env5, 1, arg0, arg1) ;
return (tmp308) ;
} /* end of [loop2_49] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_int_type closure_env_0 ;
ats_int_type closure_env_1 ;
ats_int_type closure_env_2 ;
ats_ptr_type closure_env_3 ;
ats_int_type closure_env_4 ;
ats_int_type closure_env_5 ;
} loop2_49_closure_type ;

ats_int_type
loop2_49_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ats_int_type arg1) {
return loop2_49 (((loop2_49_closure_type*)cloptr)->closure_env_0, ((loop2_49_closure_type*)cloptr)->closure_env_1, ((loop2_49_closure_type*)cloptr)->closure_env_2, ((loop2_49_closure_type*)cloptr)->closure_env_3, ((loop2_49_closure_type*)cloptr)->closure_env_4, ((loop2_49_closure_type*)cloptr)->closure_env_5, arg0, arg1) ;
} /* end of function */

ATSinline()
ats_void_type
loop2_49_closure_init (loop2_49_closure_type *p_clo, ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
p_clo->closure_fun = (ats_fun_ptr_type)&loop2_49_clofun ;
p_clo->closure_env_0 = env0 ;
p_clo->closure_env_1 = env1 ;
p_clo->closure_env_2 = env2 ;
p_clo->closure_env_3 = env3 ;
p_clo->closure_env_4 = env4 ;
p_clo->closure_env_5 = env5 ;
return ;
} /* end of function */

ats_clo_ptr_type
loop2_49_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
loop2_49_closure_type *p_clo = ATS_MALLOC(sizeof(loop2_49_closure_type)) ;
loop2_49_closure_init (p_clo, env0, env1, env2, env3, env4, env5) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 15372(line=554, offs=11) -- 16181(line=576, offs=10)
*/
ATSstaticdec()
ats_int_type
loop1_48_0loop2_49 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ...) {
/* local vardec */
ATSlocal (ats_int_type, tmp281) ;
ATSlocal (ats_int_type, tmp282) ;
ATSlocal (ats_int_type, tmp283) ;
ATSlocal (ats_int_type, tmp284) ;
ATSlocal (ats_bool_type, tmp285) ;
ATSlocal (ats_int_type, tmp286) ;
ATSlocal (ats_int_type, tmp287) ;
ATSlocal (ats_bool_type, tmp288) ;
ATSlocal (ats_int_type, tmp289) ;
// ATSlocal_void (tmp290) ;
ATSlocal (ats_bool_type, tmp291) ;
ATSlocal (ats_int_type, tmp292) ;
ATSlocal (ats_int_type, tmp293) ;
// ATSlocal_void (tmp294) ;
ATSlocal (ats_bool_type, tmp295) ;
// ATSlocal_void (tmp296) ;
ATSlocal (ats_bool_type, tmp297) ;
ATSlocal (ats_int_type, tmp298) ;
// ATSlocal_void (tmp299) ;
ATSlocal (ats_bool_type, tmp300) ;
// ATSlocal_void (tmp301) ;
ATSlocal (ats_bool_type, tmp302) ;
ATSlocal (ats_bool_type, tmp303) ;
ATSlocal (ats_int_type, tmp304) ;
ATSlocal (ats_int_type, tmp305) ;
ATSlocal (ats_int_type, tmp306) ;

va_list funarg ;

switch (arg0) {
case 0:
va_start(funarg, arg0) ;
tmp281 = va_arg(funarg, ats_int_type) ;
va_end(funarg) ;
goto __ats_lab_loop1_48 ;

case 1:
va_start(funarg, arg0) ;
tmp282 = va_arg(funarg, ats_int_type) ;
tmp283 = va_arg(funarg, ats_int_type) ;
va_end(funarg) ;
goto __ats_lab_loop2_49 ;

default: exit(1) ; /* deadcode */
} /* end of switch */

ATSlocal (va_list, arg1) ;
va_start(arg1, arg0) ;

__ats_lab_loop1_48:
tmp285 = atspre_ilt (tmp281, env1) ;
if (tmp285) {
tmp282 = tmp281 ;
tmp283 = 0 ;
goto __ats_lab_loop2_49 ; // tail call
} else {
tmp284 = 0 ;
} /* end of [if] */
return tmp284 ;

__ats_lab_loop2_49:
/* ats_int_type tmp287 ; */
tmp287 = 0 ;
tmp288 = atspre_ilt (tmp283, env2) ;
if (tmp288) {
tmp289 = matrix_get_elt_at__intsz_01658_ats_int_type (env3, tmp282, env2, tmp283) ;
tmp291 = color_is_some (tmp289) ;
if (tmp291) {
tmp293 = atspre_sub_int_int (env4, tmp283) ;
tmp292 = atspre_sub_int_int (tmp293, 1) ;
tmp295 = atspre_ilte (0, ats_castfn_mac(ats_int_type, tmp292)) ;
/* tmp294 = */ atspre_assert (tmp295) ;
tmp297 = atspre_ilt (ats_castfn_mac(ats_int_type, tmp292), 12) ;
/* tmp296 = */ atspre_assert (tmp297) ;
tmp298 = atspre_add_int_int (env5, tmp282) ;
tmp300 = atspre_ilte (0, ats_castfn_mac(ats_int_type, tmp298)) ;
/* tmp299 = */ atspre_assert (tmp300) ;
tmp302 = atspre_ilt (ats_castfn_mac(ats_int_type, tmp298), 24) ;
/* tmp301 = */ atspre_assert (tmp302) ;
/* tmp290 = */ action_44 (env0, tmp289, ats_castfn_mac(ats_int_type, tmp292), ats_castfn_mac(ats_int_type, tmp298), (&tmp287)) ;
} else {
/* empty */
} /* end of [if] */
tmp303 = atspre_eq_int_int (tmp287, 0) ;
if (tmp303) {
tmp304 = atspre_iadd (tmp283, 1) ;
tmp282 = tmp282 ;
tmp283 = tmp304 ;
goto __ats_lab_loop2_49 ; // tail call
} else {
tmp286 = tmp287 ;
} /* end of [if] */
} else {
tmp305 = atspre_iadd (tmp282, 1) ;
tmp281 = tmp305 ;
goto __ats_lab_loop1_48 ; // tail call
} /* end of [if] */
return tmp286 ;

return (tmp306) ;
} /* end of [loop1_48_0loop2_49] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 16363(line=581, offs=11) -- 16443(line=582, offs=45)
*/
ATSstaticdec()
ats_int_type
loop1_51 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0) {
/* local vardec */
ATSlocal (ats_int_type, tmp338) ;

tmp338 = loop1_51_0loop2_52 (env0, env1, env2, env3, env4, env5, 0, arg0) ;
return (tmp338) ;
} /* end of [loop1_51] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_int_type closure_env_0 ;
ats_int_type closure_env_1 ;
ats_int_type closure_env_2 ;
ats_ptr_type closure_env_3 ;
ats_int_type closure_env_4 ;
ats_int_type closure_env_5 ;
} loop1_51_closure_type ;

ats_int_type
loop1_51_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) {
return loop1_51 (((loop1_51_closure_type*)cloptr)->closure_env_0, ((loop1_51_closure_type*)cloptr)->closure_env_1, ((loop1_51_closure_type*)cloptr)->closure_env_2, ((loop1_51_closure_type*)cloptr)->closure_env_3, ((loop1_51_closure_type*)cloptr)->closure_env_4, ((loop1_51_closure_type*)cloptr)->closure_env_5, arg0) ;
} /* end of function */

ATSinline()
ats_void_type
loop1_51_closure_init (loop1_51_closure_type *p_clo, ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
p_clo->closure_fun = (ats_fun_ptr_type)&loop1_51_clofun ;
p_clo->closure_env_0 = env0 ;
p_clo->closure_env_1 = env1 ;
p_clo->closure_env_2 = env2 ;
p_clo->closure_env_3 = env3 ;
p_clo->closure_env_4 = env4 ;
p_clo->closure_env_5 = env5 ;
return ;
} /* end of function */

ats_clo_ptr_type
loop1_51_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
loop1_51_closure_type *p_clo = ATS_MALLOC(sizeof(loop1_51_closure_type)) ;
loop1_51_closure_init (p_clo, env0, env1, env2, env3, env4, env5) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 16454(line=583, offs=11) -- 17176(line=603, offs=10)
*/
ATSstaticdec()
ats_int_type
loop2_52 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ats_int_type arg1) {
/* local vardec */
ATSlocal (ats_int_type, tmp339) ;

tmp339 = loop1_51_0loop2_52 (env0, env1, env2, env3, env4, env5, 1, arg0, arg1) ;
return (tmp339) ;
} /* end of [loop2_52] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_int_type closure_env_0 ;
ats_int_type closure_env_1 ;
ats_int_type closure_env_2 ;
ats_ptr_type closure_env_3 ;
ats_int_type closure_env_4 ;
ats_int_type closure_env_5 ;
} loop2_52_closure_type ;

ats_int_type
loop2_52_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ats_int_type arg1) {
return loop2_52 (((loop2_52_closure_type*)cloptr)->closure_env_0, ((loop2_52_closure_type*)cloptr)->closure_env_1, ((loop2_52_closure_type*)cloptr)->closure_env_2, ((loop2_52_closure_type*)cloptr)->closure_env_3, ((loop2_52_closure_type*)cloptr)->closure_env_4, ((loop2_52_closure_type*)cloptr)->closure_env_5, arg0, arg1) ;
} /* end of function */

ATSinline()
ats_void_type
loop2_52_closure_init (loop2_52_closure_type *p_clo, ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
p_clo->closure_fun = (ats_fun_ptr_type)&loop2_52_clofun ;
p_clo->closure_env_0 = env0 ;
p_clo->closure_env_1 = env1 ;
p_clo->closure_env_2 = env2 ;
p_clo->closure_env_3 = env3 ;
p_clo->closure_env_4 = env4 ;
p_clo->closure_env_5 = env5 ;
return ;
} /* end of function */

ats_clo_ptr_type
loop2_52_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
loop2_52_closure_type *p_clo = ATS_MALLOC(sizeof(loop2_52_closure_type)) ;
loop2_52_closure_init (p_clo, env0, env1, env2, env3, env4, env5) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 16363(line=581, offs=11) -- 17176(line=603, offs=10)
*/
ATSstaticdec()
ats_int_type
loop1_51_0loop2_52 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ...) {
/* local vardec */
ATSlocal (ats_int_type, tmp311) ;
ATSlocal (ats_int_type, tmp312) ;
ATSlocal (ats_int_type, tmp313) ;
ATSlocal (ats_int_type, tmp314) ;
ATSlocal (ats_bool_type, tmp315) ;
ATSlocal (ats_int_type, tmp316) ;
ATSlocal (ats_int_type, tmp317) ;
ATSlocal (ats_bool_type, tmp318) ;
ATSlocal (ats_int_type, tmp319) ;
// ATSlocal_void (tmp320) ;
ATSlocal (ats_bool_type, tmp321) ;
ATSlocal (ats_int_type, tmp322) ;
ATSlocal (ats_int_type, tmp323) ;
// ATSlocal_void (tmp324) ;
ATSlocal (ats_bool_type, tmp325) ;
// ATSlocal_void (tmp326) ;
ATSlocal (ats_bool_type, tmp327) ;
ATSlocal (ats_int_type, tmp328) ;
ATSlocal (ats_int_type, tmp329) ;
// ATSlocal_void (tmp330) ;
ATSlocal (ats_bool_type, tmp331) ;
// ATSlocal_void (tmp332) ;
ATSlocal (ats_bool_type, tmp333) ;
ATSlocal (ats_bool_type, tmp334) ;
ATSlocal (ats_int_type, tmp335) ;
ATSlocal (ats_int_type, tmp336) ;
ATSlocal (ats_int_type, tmp337) ;

va_list funarg ;

switch (arg0) {
case 0:
va_start(funarg, arg0) ;
tmp311 = va_arg(funarg, ats_int_type) ;
va_end(funarg) ;
goto __ats_lab_loop1_51 ;

case 1:
va_start(funarg, arg0) ;
tmp312 = va_arg(funarg, ats_int_type) ;
tmp313 = va_arg(funarg, ats_int_type) ;
va_end(funarg) ;
goto __ats_lab_loop2_52 ;

default: exit(1) ; /* deadcode */
} /* end of switch */

ATSlocal (va_list, arg1) ;
va_start(arg1, arg0) ;

__ats_lab_loop1_51:
tmp315 = atspre_ilt (tmp311, env1) ;
if (tmp315) {
tmp312 = tmp311 ;
tmp313 = 0 ;
goto __ats_lab_loop2_52 ; // tail call
} else {
tmp314 = 0 ;
} /* end of [if] */
return tmp314 ;

__ats_lab_loop2_52:
/* ats_int_type tmp317 ; */
tmp317 = 0 ;
tmp318 = atspre_ilt (tmp313, env2) ;
if (tmp318) {
tmp319 = matrix_get_elt_at__intsz_01658_ats_int_type (env3, tmp312, env2, tmp313) ;
tmp321 = color_is_some (tmp319) ;
if (tmp321) {
tmp323 = atspre_sub_int_int (env4, tmp312) ;
tmp322 = atspre_sub_int_int (tmp323, 1) ;
tmp325 = atspre_ilte (0, ats_castfn_mac(ats_int_type, tmp322)) ;
/* tmp324 = */ atspre_assert (tmp325) ;
tmp327 = atspre_ilt (ats_castfn_mac(ats_int_type, tmp322), 12) ;
/* tmp326 = */ atspre_assert (tmp327) ;
tmp329 = atspre_sub_int_int (env5, tmp313) ;
tmp328 = atspre_sub_int_int (tmp329, 1) ;
tmp331 = atspre_ilte (0, ats_castfn_mac(ats_int_type, tmp328)) ;
/* tmp330 = */ atspre_assert (tmp331) ;
tmp333 = atspre_ilt (ats_castfn_mac(ats_int_type, tmp328), 24) ;
/* tmp332 = */ atspre_assert (tmp333) ;
/* tmp320 = */ action_44 (env0, tmp319, ats_castfn_mac(ats_int_type, tmp322), ats_castfn_mac(ats_int_type, tmp328), (&tmp317)) ;
} else {
/* empty */
} /* end of [if] */
tmp334 = atspre_eq_int_int (tmp317, 0) ;
if (tmp334) {
tmp335 = atspre_iadd (tmp313, 1) ;
tmp312 = tmp312 ;
tmp313 = tmp335 ;
goto __ats_lab_loop2_52 ; // tail call
} else {
tmp316 = tmp317 ;
} /* end of [if] */
} else {
tmp336 = atspre_iadd (tmp312, 1) ;
tmp311 = tmp336 ;
goto __ats_lab_loop1_51 ; // tail call
} /* end of [if] */
return tmp316 ;

return (tmp337) ;
} /* end of [loop1_51_0loop2_52] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 17358(line=608, offs=11) -- 17438(line=609, offs=45)
*/
ATSstaticdec()
ats_int_type
loop1_54 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0) {
/* local vardec */
ATSlocal (ats_int_type, tmp368) ;

tmp368 = loop1_54_0loop2_55 (env0, env1, env2, env3, env4, env5, 0, arg0) ;
return (tmp368) ;
} /* end of [loop1_54] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_int_type closure_env_0 ;
ats_int_type closure_env_1 ;
ats_int_type closure_env_2 ;
ats_ptr_type closure_env_3 ;
ats_int_type closure_env_4 ;
ats_int_type closure_env_5 ;
} loop1_54_closure_type ;

ats_int_type
loop1_54_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) {
return loop1_54 (((loop1_54_closure_type*)cloptr)->closure_env_0, ((loop1_54_closure_type*)cloptr)->closure_env_1, ((loop1_54_closure_type*)cloptr)->closure_env_2, ((loop1_54_closure_type*)cloptr)->closure_env_3, ((loop1_54_closure_type*)cloptr)->closure_env_4, ((loop1_54_closure_type*)cloptr)->closure_env_5, arg0) ;
} /* end of function */

ATSinline()
ats_void_type
loop1_54_closure_init (loop1_54_closure_type *p_clo, ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
p_clo->closure_fun = (ats_fun_ptr_type)&loop1_54_clofun ;
p_clo->closure_env_0 = env0 ;
p_clo->closure_env_1 = env1 ;
p_clo->closure_env_2 = env2 ;
p_clo->closure_env_3 = env3 ;
p_clo->closure_env_4 = env4 ;
p_clo->closure_env_5 = env5 ;
return ;
} /* end of function */

ats_clo_ptr_type
loop1_54_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
loop1_54_closure_type *p_clo = ATS_MALLOC(sizeof(loop1_54_closure_type)) ;
loop1_54_closure_init (p_clo, env0, env1, env2, env3, env4, env5) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 17449(line=610, offs=11) -- 18167(line=630, offs=10)
*/
ATSstaticdec()
ats_int_type
loop2_55 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ats_int_type arg1) {
/* local vardec */
ATSlocal (ats_int_type, tmp369) ;

tmp369 = loop1_54_0loop2_55 (env0, env1, env2, env3, env4, env5, 1, arg0, arg1) ;
return (tmp369) ;
} /* end of [loop2_55] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_int_type closure_env_0 ;
ats_int_type closure_env_1 ;
ats_int_type closure_env_2 ;
ats_ptr_type closure_env_3 ;
ats_int_type closure_env_4 ;
ats_int_type closure_env_5 ;
} loop2_55_closure_type ;

ats_int_type
loop2_55_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ats_int_type arg1) {
return loop2_55 (((loop2_55_closure_type*)cloptr)->closure_env_0, ((loop2_55_closure_type*)cloptr)->closure_env_1, ((loop2_55_closure_type*)cloptr)->closure_env_2, ((loop2_55_closure_type*)cloptr)->closure_env_3, ((loop2_55_closure_type*)cloptr)->closure_env_4, ((loop2_55_closure_type*)cloptr)->closure_env_5, arg0, arg1) ;
} /* end of function */

ATSinline()
ats_void_type
loop2_55_closure_init (loop2_55_closure_type *p_clo, ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
p_clo->closure_fun = (ats_fun_ptr_type)&loop2_55_clofun ;
p_clo->closure_env_0 = env0 ;
p_clo->closure_env_1 = env1 ;
p_clo->closure_env_2 = env2 ;
p_clo->closure_env_3 = env3 ;
p_clo->closure_env_4 = env4 ;
p_clo->closure_env_5 = env5 ;
return ;
} /* end of function */

ats_clo_ptr_type
loop2_55_closure_make (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5) {
loop2_55_closure_type *p_clo = ATS_MALLOC(sizeof(loop2_55_closure_type)) ;
loop2_55_closure_init (p_clo, env0, env1, env2, env3, env4, env5) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 17358(line=608, offs=11) -- 18167(line=630, offs=10)
*/
ATSstaticdec()
ats_int_type
loop1_54_0loop2_55 (ats_int_type env0, ats_int_type env1, ats_int_type env2, ats_ptr_type env3, ats_int_type env4, ats_int_type env5, ats_int_type arg0, ...) {
/* local vardec */
ATSlocal (ats_int_type, tmp342) ;
ATSlocal (ats_int_type, tmp343) ;
ATSlocal (ats_int_type, tmp344) ;
ATSlocal (ats_int_type, tmp345) ;
ATSlocal (ats_bool_type, tmp346) ;
ATSlocal (ats_int_type, tmp347) ;
ATSlocal (ats_int_type, tmp348) ;
ATSlocal (ats_bool_type, tmp349) ;
ATSlocal (ats_int_type, tmp350) ;
// ATSlocal_void (tmp351) ;
ATSlocal (ats_bool_type, tmp352) ;
ATSlocal (ats_int_type, tmp353) ;
// ATSlocal_void (tmp354) ;
ATSlocal (ats_bool_type, tmp355) ;
// ATSlocal_void (tmp356) ;
ATSlocal (ats_bool_type, tmp357) ;
ATSlocal (ats_int_type, tmp358) ;
ATSlocal (ats_int_type, tmp359) ;
// ATSlocal_void (tmp360) ;
ATSlocal (ats_bool_type, tmp361) ;
// ATSlocal_void (tmp362) ;
ATSlocal (ats_bool_type, tmp363) ;
ATSlocal (ats_bool_type, tmp364) ;
ATSlocal (ats_int_type, tmp365) ;
ATSlocal (ats_int_type, tmp366) ;
ATSlocal (ats_int_type, tmp367) ;

va_list funarg ;

switch (arg0) {
case 0:
va_start(funarg, arg0) ;
tmp342 = va_arg(funarg, ats_int_type) ;
va_end(funarg) ;
goto __ats_lab_loop1_54 ;

case 1:
va_start(funarg, arg0) ;
tmp343 = va_arg(funarg, ats_int_type) ;
tmp344 = va_arg(funarg, ats_int_type) ;
va_end(funarg) ;
goto __ats_lab_loop2_55 ;

default: exit(1) ; /* deadcode */
} /* end of switch */

ATSlocal (va_list, arg1) ;
va_start(arg1, arg0) ;

__ats_lab_loop1_54:
tmp346 = atspre_ilt (tmp342, env1) ;
if (tmp346) {
tmp343 = tmp342 ;
tmp344 = 0 ;
goto __ats_lab_loop2_55 ; // tail call
} else {
tmp345 = 0 ;
} /* end of [if] */
return tmp345 ;

__ats_lab_loop2_55:
/* ats_int_type tmp348 ; */
tmp348 = 0 ;
tmp349 = atspre_ilt (tmp344, env2) ;
if (tmp349) {
tmp350 = matrix_get_elt_at__intsz_01658_ats_int_type (env3, tmp343, env2, tmp344) ;
tmp352 = color_is_some (tmp350) ;
if (tmp352) {
tmp353 = atspre_add_int_int (env4, tmp344) ;
tmp355 = atspre_ilte (0, ats_castfn_mac(ats_int_type, tmp353)) ;
/* tmp354 = */ atspre_assert (tmp355) ;
tmp357 = atspre_ilt (ats_castfn_mac(ats_int_type, tmp353), 12) ;
/* tmp356 = */ atspre_assert (tmp357) ;
tmp359 = atspre_sub_int_int (env5, tmp343) ;
tmp358 = atspre_sub_int_int (tmp359, 1) ;
tmp361 = atspre_ilte (0, ats_castfn_mac(ats_int_type, tmp358)) ;
/* tmp360 = */ atspre_assert (tmp361) ;
tmp363 = atspre_ilt (ats_castfn_mac(ats_int_type, tmp358), 24) ;
/* tmp362 = */ atspre_assert (tmp363) ;
/* tmp351 = */ action_44 (env0, tmp350, ats_castfn_mac(ats_int_type, tmp353), ats_castfn_mac(ats_int_type, tmp358), (&tmp348)) ;
} else {
/* empty */
} /* end of [if] */
tmp364 = atspre_eq_int_int (tmp348, 0) ;
if (tmp364) {
tmp365 = atspre_iadd (tmp344, 1) ;
tmp343 = tmp343 ;
tmp344 = tmp365 ;
goto __ats_lab_loop2_55 ; // tail call
} else {
tmp347 = tmp348 ;
} /* end of [if] */
} else {
tmp366 = atspre_iadd (tmp343, 1) ;
tmp342 = tmp366 ;
goto __ats_lab_loop1_54 ; // tail call
} /* end of [if] */
return tmp347 ;

return (tmp367) ;
} /* end of [loop1_54_0loop2_55] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 13634(line=503, offs=3) -- 18219(line=632, offs=4)
*/
ATSglobaldec()
ats_int_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_absorb_atrot (ats_int_type arg0, ats_ptr_type arg1, ats_int_type arg2, ats_int_type arg3, ats_int_type arg4) {
/* local vardec */
ATSlocal (ats_int_type, tmp240) ;
ATSlocal (ats_int_type, tmp241) ;
ATSlocal (ats_int_type, tmp242) ;
ATSlocal (ats_int_type, tmp243) ;
ATSlocal (ats_int_type, tmp244) ;
ATSlocal (ats_ptr_type, tmp245) ;
ATSlocal (ats_int_type, tmp250) ;
ATSlocal (ats_int_type, tmp251) ;
ATSlocal (ats_int_type, tmp279) ;
ATSlocal (ats_int_type, tmp280) ;
ATSlocal (ats_int_type, tmp309) ;
ATSlocal (ats_int_type, tmp310) ;
ATSlocal (ats_int_type, tmp340) ;
ATSlocal (ats_int_type, tmp341) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_absorb_atrot:
tmp241 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_xlen_get (arg1) ;
tmp242 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_ylen_get (arg1) ;
tmp243 = atspre_idiv (tmp241, 2) ;
tmp244 = atspre_idiv (tmp242, 2) ;
tmp245 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_matrix_get (arg1) ;
do {
/* branch: __ats_lab_43 */
__ats_lab_43_0:
if (arg4 != 0) { goto __ats_lab_44_0 ; }
__ats_lab_43_1:
tmp250 = atspre_sub_int_int (arg2, tmp243) ;
tmp251 = atspre_sub_int_int (arg3, tmp244) ;
tmp240 = loop1_45 (arg0, tmp241, tmp242, tmp245, tmp250, tmp251, 0) ;
break ;

/* branch: __ats_lab_44 */
__ats_lab_44_0:
if (arg4 != 1) { goto __ats_lab_45_0 ; }
__ats_lab_44_1:
tmp279 = atspre_add_int_int (arg2, tmp244) ;
tmp280 = atspre_sub_int_int (arg3, tmp243) ;
tmp240 = loop1_48 (arg0, tmp241, tmp242, tmp245, tmp279, tmp280, 0) ;
break ;

/* branch: __ats_lab_45 */
__ats_lab_45_0:
if (arg4 != 2) { goto __ats_lab_46_0 ; }
__ats_lab_45_1:
tmp309 = atspre_add_int_int (arg2, tmp243) ;
tmp310 = atspre_add_int_int (arg3, tmp244) ;
tmp240 = loop1_51 (arg0, tmp241, tmp242, tmp245, tmp309, tmp310, 0) ;
break ;

/* branch: __ats_lab_46 */
__ats_lab_46_0:
// if (arg4 != 3) { ats_deadcode_failure_handle () ; }
__ats_lab_46_1:
tmp340 = atspre_sub_int_int (arg2, tmp244) ;
tmp341 = atspre_add_int_int (arg3, tmp243) ;
tmp240 = loop1_54 (arg0, tmp241, tmp242, tmp245, tmp340, tmp341, 0) ;
break ;
} while (0) ;
return (tmp240) ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_absorb_atrot] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 18435(line=642, offs=21) -- 19843(line=678, offs=4)
*/
ATSglobaldec()
ats_bool_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_position_test (ats_ptr_type arg0, ats_int_type arg1, ats_int_type arg2, ats_int_type arg3) {
/* local vardec */
ATSlocal (ats_bool_type, tmp370) ;
ATSlocal (ats_int_type, tmp371) ;
ATSlocal (ats_int_type, tmp372) ;
ATSlocal (ats_int_type, tmp373) ;
ATSlocal (ats_int_type, tmp374) ;
ATSlocal (ats_int_type, tmp375) ;
ATSlocal (ats_int_type, tmp376) ;
ATSlocal (ats_int_type, tmp377) ;
ATSlocal (ats_int_type, tmp378) ;
ATSlocal (ats_int_type, tmp379) ;
ATSlocal (ats_int_type, tmp380) ;
ATSlocal (ats_int_type, tmp382) ;
ATSlocal (ats_int_type, tmp383) ;
ATSlocal (ats_int_type, tmp384) ;
ATSlocal (ats_int_type, tmp385) ;
ATSlocal (ats_int_type, tmp386) ;
ATSlocal (ats_int_type, tmp387) ;
ATSlocal (ats_int_type, tmp388) ;
ATSlocal (ats_int_type, tmp389) ;
ATSlocal (ats_int_type, tmp390) ;
ATSlocal (ats_int_type, tmp391) ;
ATSlocal (ats_int_type, tmp392) ;
ATSlocal (ats_int_type, tmp393) ;
ATSlocal (ats_int_type, tmp394) ;
ATSlocal (ats_int_type, tmp395) ;
ATSlocal (ats_int_type, tmp396) ;
ATSlocal (ats_int_type, tmp397) ;
ATSlocal (ats_bool_type, tmp398) ;
ATSlocal (ats_bool_type, tmp399) ;
ATSlocal (ats_bool_type, tmp400) ;
ATSlocal (ats_bool_type, tmp401) ;
ATSlocal (ats_int_type, tmp402) ;
ATSlocal (ats_bool_type, tmp403) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_position_test:
tmp371 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_xlen_get (arg0) ;
tmp372 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_ylen_get (arg0) ;
tmp373 = atspre_idiv (tmp371, 2) ;
tmp374 = atspre_idiv (tmp372, 2) ;
tmp375 = atspre_isub (tmp371, tmp373) ;
tmp376 = atspre_isub (tmp372, tmp374) ;
/* ats_int_type tmp377 ; */
tmp377 = 0 ;
/* ats_int_type tmp378 ; */
tmp378 = 0 ;
/* ats_int_type tmp379 ; */
tmp379 = 0 ;
/* ats_int_type tmp380 ; */
tmp380 = 0 ;
do {
/* branch: __ats_lab_47 */
__ats_lab_47_0:
if (arg3 != 0) { goto __ats_lab_48_0 ; }
__ats_lab_47_1:
tmp382 = atspre_sub_int_int (arg1, tmp373) ;
tmp377 = tmp382 ;
tmp383 = atspre_sub_int_int (arg2, tmp374) ;
tmp378 = tmp383 ;
tmp384 = atspre_add_int_int (arg1, tmp375) ;
tmp379 = tmp384 ;
tmp385 = atspre_add_int_int (arg2, tmp376) ;
tmp380 = tmp385 ;
break ;

/* branch: __ats_lab_48 */
__ats_lab_48_0:
if (arg3 != 1) { goto __ats_lab_49_0 ; }
__ats_lab_48_1:
tmp386 = atspre_sub_int_int (arg1, tmp376) ;
tmp377 = tmp386 ;
tmp387 = atspre_sub_int_int (arg2, tmp373) ;
tmp378 = tmp387 ;
tmp388 = atspre_add_int_int (arg1, tmp374) ;
tmp379 = tmp388 ;
tmp389 = atspre_add_int_int (arg2, tmp375) ;
tmp380 = tmp389 ;
break ;

/* branch: __ats_lab_49 */
__ats_lab_49_0:
if (arg3 != 2) { goto __ats_lab_50_0 ; }
__ats_lab_49_1:
tmp390 = atspre_sub_int_int (arg1, tmp375) ;
tmp377 = tmp390 ;
tmp391 = atspre_sub_int_int (arg2, tmp376) ;
tmp378 = tmp391 ;
tmp392 = atspre_add_int_int (arg1, tmp373) ;
tmp379 = tmp392 ;
tmp393 = atspre_add_int_int (arg2, tmp374) ;
tmp380 = tmp393 ;
break ;

/* branch: __ats_lab_50 */
__ats_lab_50_0:
// if (arg3 != 3) { ats_deadcode_failure_handle () ; }
__ats_lab_50_1:
tmp394 = atspre_sub_int_int (arg1, tmp374) ;
tmp377 = tmp394 ;
tmp395 = atspre_sub_int_int (arg2, tmp375) ;
tmp378 = tmp395 ;
tmp396 = atspre_add_int_int (arg1, tmp376) ;
tmp379 = tmp396 ;
tmp397 = atspre_add_int_int (arg2, tmp373) ;
tmp380 = tmp397 ;
break ;
} while (0) ;
tmp398 = atspre_lt_int_int (tmp377, 0) ;
if (tmp398) {
tmp370 = ats_false_bool ;
} else {
tmp399 = atspre_lt_int_int (tmp378, 0) ;
if (tmp399) {
tmp370 = ats_false_bool ;
} else {
tmp400 = atspre_gt_int_int (tmp379, 12) ;
if (tmp400) {
tmp370 = ats_false_bool ;
} else {
tmp401 = atspre_gt_int_int (tmp380, 24) ;
if (tmp401) {
tmp370 = ats_false_bool ;
} else {
tmp402 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_absorb_atrot (0, arg0, arg1, arg2, arg3) ;
tmp403 = atspre_gt_int_int (tmp402, 0) ;
if (tmp403) {
tmp370 = ats_false_bool ;
} else {
tmp370 = ats_true_bool ;
} /* end of [if] */
} /* end of [if] */
} /* end of [if] */
} /* end of [if] */
} /* end of [if] */
return (tmp370) ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_position_test] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 19975(line=684, offs=34) -- 20301(line=694, offs=4)
*/
ATSglobaldec()
ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShape_absorb () {
/* local vardec */
// ATSlocal_void (tmp404) ;
ATSlocal (ats_ptr_type, tmp405) ;
ATSlocal (ats_int_type, tmp406) ;
ATSlocal (ats_int_type, tmp407) ;
ATSlocal (ats_int_type, tmp408) ;
ATSlocal (ats_int_type, tmp409) ;
// ATSlocal_void (tmp410) ;
ATSlocal (ats_int_type, tmp411) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShape_absorb:
tmp405 = ats_ptrget_mac(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShapeRef) ;
tmp406 = the_ix_center_get () ;
tmp407 = the_iy_center_get () ;
tmp408 = the_rotkind_get () ;
tmp409 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_absorb_atrot (1, tmp405, tmp406, tmp407, tmp408) ;
tmp411 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_points_get (tmp405) ;
/* tmp410 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTotalScore_incby (tmp411) ;
/* tmp404 = */ FRAME_rows_remove_if () ;
return /* (tmp404) */ ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShape_absorb] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/array.dats: 14550(line=519, offs=18) -- 14627(line=521, offs=4)
*/
ATSstaticdec()
ats_ptr_type
array_get_elt_at_01614_ats_ptr_type (ats_ptr_type arg0, ats_size_type arg1) {
/* local vardec */
ATSlocal (ats_ptr_type, tmp427) ;
ATSlocal (ats_ptr_type, tmp428) ;

__ats_lab_array_get_elt_at_01614_ats_ptr_type:
tmp428 = ats_selsin_mac(arg0, atslab_data) ;
tmp427 = ats_caselptrind_mac(ats_ptr_type, tmp428, [arg1]) ;
return (tmp427) ;
} /* end of [array_get_elt_at_01614_ats_ptr_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 20436(line=700, offs=34) -- 21150(line=723, offs=4)
*/
ATSglobaldec()
ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShape_update () {
/* local vardec */
// ATSlocal_void (tmp412) ;
ATSlocal (ats_ptr_type, tmp413) ;
ATSlocal (ats_int_type, tmp414) ;
ATSlocal (ats_int_type, tmp415) ;
ATSlocal (ats_int_type, tmp416) ;
ATSlocal (ats_int_type, tmp417) ;
ATSlocal (ats_int_type, tmp418) ;
ATSlocal (ats_int_type, tmp419) ;
// ATSlocal_void (tmp420) ;
ATSlocal (ats_bool_type, tmp421) ;
// ATSlocal_void (tmp422) ;
// ATSlocal_void (tmp423) ;
// ATSlocal_void (tmp424) ;
ATSlocal (ats_int_type, tmp425) ;
ATSlocal (ats_ptr_type, tmp426) ;
ATSlocal (ats_size_type, tmp429) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShape_update:
tmp413 = ats_ptrget_mac(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeRef) ;
ats_ptrget_mac(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShapeRef) = tmp413 ;
tmp414 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_ylen_get (tmp413) ;
tmp415 = atspre_idiv (12, 2) ;
tmp418 = atspre_iadd (tmp414, 1) ;
tmp417 = atspre_idiv (tmp418, 2) ;
tmp416 = atspre_isub (24, tmp417) ;
tmp419 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_absorb_atrot (0, tmp413, tmp415, tmp416, 0) ;
tmp421 = atspre_gt_int_int (tmp419, 0) ;
if (tmp421) {
/* tmp420 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__glTetrix_finalize () ;
} else {
/* empty */
} /* end of [if] */
/* tmp422 = */ the_ix_center_set (tmp415) ;
/* tmp423 = */ the_iy_center_set (tmp416) ;
/* tmp424 = */ the_rotkind_set (0) ;
tmp425 = atslib_randint (7) ;
tmp429 = atspre_size1_of_int1 (tmp425) ;
tmp426 = array_get_elt_at_01614_ats_ptr_type (ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theShapeArray, tmp429) ;
ats_ptrget_mac(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeRef) = tmp426 ;
return /* (tmp412) */ ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShape_update] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 21331(line=732, offs=26) -- 21659(line=740, offs=4)
*/
ATSglobaldec()
ats_int_type
theCurrentShape_xmove_if (ats_int_type arg0) {
/* local vardec */
ATSlocal (ats_int_type, tmp430) ;
ATSlocal (ats_ptr_type, tmp431) ;
ATSlocal (ats_int_type, tmp432) ;
ATSlocal (ats_int_type, tmp433) ;
ATSlocal (ats_int_type, tmp434) ;
ATSlocal (ats_int_type, tmp435) ;
ATSlocal (ats_bool_type, tmp436) ;
// ATSlocal_void (tmp437) ;

__ats_lab_theCurrentShape_xmove_if:
tmp431 = ats_ptrget_mac(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShapeRef) ;
tmp432 = the_ix_center_get () ;
tmp433 = the_iy_center_get () ;
tmp434 = the_rotkind_get () ;
tmp435 = atspre_add_int_int (tmp432, arg0) ;
tmp436 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_position_test (tmp431, tmp435, tmp433, tmp434) ;
if (tmp436) {
/* tmp437 = */ the_ix_center_set (tmp435) ;
tmp430 = arg0 ;
} else {
tmp430 = 0 ;
} /* end of [if] */
return (tmp430) ;
} /* end of [theCurrentShape_xmove_if] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 21839(line=749, offs=26) -- 22252(line=762, offs=4)
*/
ATSglobaldec()
ats_int_type
theCurrentShape_ymove_if (ats_int_type arg0) {
/* local vardec */
ATSlocal (ats_int_type, tmp438) ;
ATSlocal (ats_ptr_type, tmp439) ;
ATSlocal (ats_int_type, tmp440) ;
ATSlocal (ats_int_type, tmp441) ;
ATSlocal (ats_int_type, tmp442) ;
ATSlocal (ats_int_type, tmp443) ;
ATSlocal (ats_bool_type, tmp444) ;
// ATSlocal_void (tmp445) ;

__ats_lab_theCurrentShape_ymove_if:
tmp439 = ats_ptrget_mac(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShapeRef) ;
tmp440 = the_ix_center_get () ;
tmp441 = the_iy_center_get () ;
tmp442 = the_rotkind_get () ;
tmp443 = atspre_add_int_int (tmp441, arg0) ;
tmp444 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_position_test (tmp439, tmp440, tmp443, tmp442) ;
if (tmp444) {
/* tmp445 = */ the_iy_center_set (tmp443) ;
tmp438 = arg0 ;
} else {
tmp438 = 0 ;
} /* end of [if] */
return (tmp438) ;
} /* end of [theCurrentShape_ymove_if] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 22475(line=775, offs=7) -- 22845(line=790, offs=6)
*/
ATSstaticdec()
ats_void_type
loop_64 (ats_ptr_type arg0) {
/* local vardec */
// ATSlocal_void (tmp447) ;
ATSlocal (ats_int_type, tmp448) ;
ATSlocal (ats_int_type, tmp449) ;
ATSlocal (ats_bool_type, tmp450) ;
// ATSlocal_void (tmp451) ;
// ATSlocal_void (tmp452) ;

__ats_lab_loop_64:
tmp448 = atslib_usleep (2048) ;
tmp449 = theCurrentShape_ymove_if (-1) ;
tmp450 = atspre_neq_int_int (tmp449, 0) ;
if (tmp450) {
/* tmp451 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__glTetrix_display_main (1) ;
arg0 = arg0 ;
goto __ats_lab_loop_64 ; // tail call
} else {
/* tmp452 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShape_absorb () ;
/* tmp447 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShape_update () ;
} /* end of [if] */
return /* (tmp447) */ ;
} /* end of [loop_64] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 22424(line=773, offs=26) -- 22898(line=793, offs=4)
*/
ATSglobaldec()
ats_void_type
theCurrentShape_freefall () {
/* local vardec */
// ATSlocal_void (tmp446) ;
ATSlocal (ats_ptr_type, tmp453) ;

__ats_lab_theCurrentShape_freefall:
tmp453 = ats_ptrget_mac(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShapeRef) ;
/* tmp446 = */ loop_64 (tmp453) ;
return /* (tmp446) */ ;
} /* end of [theCurrentShape_freefall] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 23120(line=803, offs=37) -- 23435(line=811, offs=4)
*/
ATSglobaldec()
ats_int_type
theCurrentShape_rotate_if (ats_int_type arg0) {
/* local vardec */
ATSlocal (ats_int_type, tmp454) ;
ATSlocal (ats_ptr_type, tmp455) ;
ATSlocal (ats_int_type, tmp456) ;
ATSlocal (ats_int_type, tmp457) ;
ATSlocal (ats_int_type, tmp458) ;
ATSlocal (ats_int_type, tmp459) ;
ATSlocal (ats_int_type, tmp460) ;
ATSlocal (ats_bool_type, tmp461) ;
// ATSlocal_void (tmp462) ;

__ats_lab_theCurrentShape_rotate_if:
tmp455 = ats_ptrget_mac(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShapeRef) ;
tmp456 = the_ix_center_get () ;
tmp457 = the_iy_center_get () ;
tmp458 = the_rotkind_get () ;
tmp460 = atspre_iadd (tmp458, arg0) ;
tmp459 = atspre_nmod1 (tmp460, 4) ;
tmp461 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_position_test (tmp455, tmp456, tmp457, tmp459) ;
if (tmp461) {
/* tmp462 = */ the_rotkind_set (tmp459) ;
tmp454 = arg0 ;
} else {
tmp454 = 0 ;
} /* end of [if] */
return (tmp454) ;
} /* end of [theCurrentShape_rotate_if] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 23498(line=815, offs=4) -- 23586(line=817, offs=4)
*/
ATSstaticdec()
ats_void_type
FRAME_draw_66 () {
/* local vardec */
// ATSlocal_void (tmp463) ;

__ats_lab_FRAME_draw_66:
/* tmp463 = */ drawRectangle_0 (statmp19, statmp21, statmp17, statmp18) ;
return /* (tmp463) */ ;
} /* end of [FRAME_draw_66] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 23614(line=819, offs=4) -- 24242(line=839, offs=4)
*/
ATSstaticdec()
ats_void_type
FRAME_matrix_draw_67 () {
/* local vardec */
// ATSlocal_void (tmp464) ;
ATSlocal (ats_int_type, tmp465) ;
ATSlocal (ats_int_type, tmp466) ;
// ATSlocal_void (tmp467) ;
// ATSlocal_void (tmp468) ;
// ATSlocal_void (tmp469) ;
ATSlocal (ats_bool_type, tmp470) ;
ATSlocal (ats_int_type, tmp471) ;
ATSlocal (ats_bool_type, tmp472) ;
ATSlocal (ats_int_type, tmp473) ;
ATSlocal (ats_int_type, tmp474) ;
// ATSlocal_void (tmp475) ;
ATSlocal (ats_bool_type, tmp476) ;
// ATSlocal_void (tmp477) ;

__ats_lab_FRAME_matrix_draw_67:
/* ats_int_type tmp465 ; */
/* ats_int_type tmp466 ; */
/* tmp467 = */ atsctrb_glPushMatrix () ;
/* tmp468 = ats_selsin_mac(tmp467, atslab_1) */ ;
/* tmp469 = */ atsctrb_glTranslated (statmp19, statmp21, 0.0) ;
/* loop initialization */
tmp465 = 0 ;
ats_loop_beg_mac(__ats_lab_51)
tmp470 = atspre_ilt (tmp465, 12) ;
if (!tmp470) break ;
/* loop initialization */
tmp466 = 0 ;
ats_loop_beg_mac(__ats_lab_54)
tmp472 = atspre_ilt (tmp466, 24) ;
if (!tmp472) break ;
tmp474 = matrix_get_elt_at__intsz_01658_ats_int_type (statmp68, tmp465, 24, tmp466) ;
tmp476 = color_is_some (tmp474) ;
if (tmp476) {
/* tmp477 = */ glColor3d_color_39 (tmp474) ;
/* tmp475 = */ drawBlock_38 (tmp465, tmp466) ;
} else {
/* empty */
} /* end of [if] */
/* post update before continue */
__ats_lab_56:
tmp473 = atspre_iadd (tmp466, 1) ;
tmp466 = tmp473 ;
ats_loop_end_mac(__ats_lab_54, __ats_lab_55)
/* post update before continue */
__ats_lab_53:
tmp471 = atspre_iadd (tmp465, 1) ;
tmp465 = tmp471 ;
ats_loop_end_mac(__ats_lab_51, __ats_lab_52)
/* tmp464 = */ atsctrb_glPopMatrix () ;
return /* (tmp464) */ ;
} /* end of [FRAME_matrix_draw_67] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 24306(line=841, offs=33) -- 25341(line=876, offs=4)
*/
ATSglobaldec()
ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__glTetrix_display_main (ats_int_type arg0) {
/* local vardec */
// ATSlocal_void (tmp478) ;
// ATSlocal_void (tmp479) ;
// ATSlocal_void (tmp480) ;
// ATSlocal_void (tmp481) ;
// ATSlocal_void (tmp482) ;
// ATSlocal_void (tmp483) ;
ATSlocal (ats_bool_type, tmp484) ;
ATSlocal (ats_int_type, tmp485) ;
ATSlocal (ats_ptr_type, tmp486) ;
ATSlocal (ats_int_type, tmp487) ;
ATSlocal (ats_int_type, tmp488) ;
ATSlocal (ats_int_type, tmp489) ;
ATSlocal (ats_int_type, tmp490) ;
ATSlocal (ats_int_type, tmp491) ;
ATSlocal (ats_int_type, tmp492) ;
ATSlocal (ats_int_type, tmp493) ;
ATSlocal (ats_int_type, tmp494) ;
// ATSlocal_void (tmp495) ;
ATSlocal (ats_bool_type, tmp496) ;
ATSlocal (ats_ptr_type, tmp497) ;
ATSlocal (ats_int_type, tmp498) ;
ATSlocal (ats_int_type, tmp499) ;
ATSlocal (ats_int_type, tmp500) ;
// ATSlocal_void (tmp501) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__glTetrix_display_main:
/* tmp479 = */ FRAME_glClear_17 () ;
/* tmp480 = */ FRAME_glColor3d_18 () ;
/* tmp481 = */ FRAME_draw_66 () ;
/* tmp482 = */ FRAME_matrix_draw_67 () ;
tmp485 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeShow_get () ;
tmp484 = atspre_gt_int_int (tmp485, 0) ;
if (tmp484) {
tmp486 = ats_ptrget_mac(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeRef) ;
tmp487 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_xlen_get (tmp486) ;
tmp490 = atspre_iadd (tmp487, 1) ;
tmp489 = atspre_idiv (tmp490, 2) ;
tmp488 = atspre_imul (-2, tmp489) ;
tmp491 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_ylen_get (tmp486) ;
tmp494 = atspre_iadd (tmp491, 1) ;
tmp493 = atspre_idiv (tmp494, 2) ;
tmp492 = atspre_isub (24, tmp493) ;
/* tmp483 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_draw_atrot (1, tmp486, tmp488, tmp492, 0) ;
} else {
/* empty */
} /* end of [if] */
tmp496 = atspre_gt_int_int (arg0, 0) ;
if (tmp496) {
tmp497 = ats_ptrget_mac(ats_ptr_type, ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShapeRef) ;
tmp498 = the_rotkind_get () ;
tmp499 = the_ix_center_get () ;
tmp500 = the_iy_center_get () ;
/* tmp495 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_draw_atrot (1, tmp497, tmp499, tmp500, tmp498) ;
} else {
/* empty */
} /* end of [if] */
/* tmp501 = */ atsctrb_glFlush () ;
/* tmp478 = */ atsctrb_glutSwapBuffers () ;
return /* (tmp478) */ ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__glTetrix_display_main] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 25390(line=878, offs=28) -- 25419(line=878, offs=57)
*/
ATSglobaldec()
ats_void_type
glTetrix_display () {
/* local vardec */
// ATSlocal_void (tmp502) ;

__ats_lab_glTetrix_display:
/* tmp502 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__glTetrix_display_main (1) ;
return /* (tmp502) */ ;
} /* end of [glTetrix_display] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 25472(line=882, offs=4) -- 25537(line=883, offs=36)
*/
ATSstaticdec()
ats_void_type
FRAME_glClearColor_70 () {
/* local vardec */
// ATSlocal_void (tmp503) ;

__ats_lab_FRAME_glClearColor_70:
/* tmp503 = */ atsctrb_glClearColor (1.0, 1.0, 1.0, 0.0) ;
return /* (tmp503) */ ;
} /* end of [FRAME_glClearColor_70] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 25589(line=886, offs=21) -- 25889(line=896, offs=4)
*/
ATSglobaldec()
ats_void_type
glTetrix_initialize () {
/* local vardec */
// ATSlocal_void (tmp504) ;
// ATSlocal_void (tmp505) ;
// ATSlocal_void (tmp506) ;
// ATSlocal_void (tmp507) ;
// ATSlocal_void (tmp508) ;
// ATSlocal_void (tmp509) ;
// ATSlocal_void (tmp510) ;

__ats_lab_glTetrix_initialize:
/* tmp505 = */ atslib_srand48_with_time () ;
/* tmp506 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShape_update () ;
/* tmp507 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShape_update () ;
/* tmp508 = */ FRAME_glClearColor_70 () ;
/* tmp509 = */ atsctrb_glMatrixMode (GL_PROJECTION) ;
/* tmp510 = */ atsctrb_glLoadIdentity () ;
/* tmp504 = */ atsctrb_glOrtho (0.0, 1.0, 0.0, 1.0, -1.0, 1.0) ;
return /* (tmp504) */ ;
} /* end of [glTetrix_initialize] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 26599(line=932, offs=29) -- 26611(line=932, offs=41)
*/
ATSstaticdec()
ats_void_type
__ats_fun_73 () {
/* local vardec */
// ATSlocal_void (tmp514) ;

__ats_lab___ats_fun_73:
return /* (tmp514) */ ;
} /* end of [__ats_fun_73] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 26660(line=934, offs=8) -- 26709(line=934, offs=57)
*/
ATSstaticdec()
ats_void_type
f_74 (ats_uchar_type arg0, ats_int_type arg1, ats_int_type arg2) {
/* local vardec */
// ATSlocal_void (tmp515) ;

__ats_lab_f_74:
/* tmp515 = */ ats_exit (0) ;
return /* (tmp515) */ ;
} /* end of [f_74] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 27260(line=951, offs=9) -- 27474(line=955, offs=10)
*/
ATSstaticdec()
ats_void_type
loop_76 (ats_ptr_type arg0, ats_ptr_type arg1, ats_size_type arg2) {
/* local vardec */
// ATSlocal_void (tmp522) ;
ATSlocal (ats_bool_type, tmp523) ;
// ATSlocal_void (tmp524) ;
ATSlocal (ats_char_type, tmp525) ;
ATSlocal (ats_size_type, tmp526) ;

__ats_lab_loop_76:
tmp523 = atspre_string_isnot_atend (arg1, arg2) ;
if (tmp523) {
tmp525 = atspre_string_get_char_at (arg1, arg2) ;
/* tmp524 = */ glTetrix_glutBitmapCharacter (arg0, tmp525) ;
tmp526 = atspre_add_size1_int1 (arg2, 1) ;
arg0 = arg0 ;
arg1 = arg1 ;
arg2 = tmp526 ;
goto __ats_lab_loop_76 ; // tail call
} else {
/* empty */
} /* end of [if] */
return /* (tmp522) */ ;
} /* end of [loop_76] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 27057(line=946, offs=7) -- 27493(line=956, offs=4)
*/
ATSstaticdec()
ats_void_type
show_string_75 (ats_ptr_type arg0, ats_ptr_type arg1) {
/* local vardec */
// ATSlocal_void (tmp521) ;

__ats_lab_show_string_75:
/* tmp521 = */ loop_76 (arg0, arg1, 0) ;
return /* (tmp521) */ ;
} /* end of [show_string_75] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 26531(line=929, offs=19) -- 28146(line=975, offs=4)
*/
ATSglobaldec()
ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__glTetrix_finalize () {
/* local vardec */
// ATSlocal_void (tmp511) ;
// ATSlocal_void (tmp512) ;
// ATSlocal_void (tmp513) ;
// ATSlocal_void (tmp516) ;
ATSlocal (ats_int_type, tmp517) ;
ATSlocal (ats_int_type, tmp518) ;
ATSlocal (ats_ptr_type, tmp519) ;
ATSlocal (ats_ptr_type, tmp520) ;
// ATSlocal_void (tmp527) ;
// ATSlocal_void (tmp528) ;
// ATSlocal_void (tmp529) ;
// ATSlocal_void (tmp530) ;
// ATSlocal_void (tmp531) ;
// ATSlocal_void (tmp532) ;
// ATSlocal_void (tmp533) ;
// ATSlocal_void (tmp534) ;
// ATSlocal_void (tmp535) ;
// ATSlocal_void (tmp536) ;
// ATSlocal_void (tmp537) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__glTetrix_finalize:
/* tmp512 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameOver_set () ;
/* tmp513 = */ atsctrb_glutDisplayFunc (&__ats_fun_73) ;
/* tmp516 = */ atsctrb_glutKeyboardFunc (&f_74) ;
tmp517 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameLevel_get () ;
tmp518 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTotalScore_get () ;
tmp519 = atspre_tostringf (ATSstrcst("The final level of the game is %i."), tmp517) ;
tmp520 = atspre_tostringf (ATSstrcst("The final score of the game is %i."), tmp518) ;
/* tmp527 = */ atsctrb_glClear (GL_COLOR_BUFFER_BIT) ;
/* tmp528 = */ atsctrb_glColor3d (0.0, 0.0, 0.0) ;
/* tmp529 = */ atsctrb_glMatrixMode (GL_MODELVIEW) ;
/* tmp530 = */ atsctrb_glLoadIdentity () ;
/* tmp531 = */ atsctrb_glRasterPos2d (0.25, 0.75) ;
/* tmp532 = */ show_string_75 (GLUT_BITMAP_TIMES_ROMAN_24, ATSstrcst("Game Over!")) ;
/* tmp533 = */ atsctrb_glRasterPos2d (0.25, 0.50) ;
/* tmp534 = */ show_string_75 (GLUT_BITMAP_HELVETICA_18, ats_castfn_mac(ats_ptr_type, tmp519)) ;
/* tmp535 = */ atsctrb_glRasterPos2d (0.25, 0.45) ;
/* tmp536 = */ show_string_75 (GLUT_BITMAP_HELVETICA_18, ats_castfn_mac(ats_ptr_type, tmp520)) ;
/* tmp537 = */ atsctrb_glFlush () ;
/* tmp511 = */ atsctrb_glutSwapBuffers () ;
return /* (tmp511) */ ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__glTetrix_finalize] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 28384(line=986, offs=3) -- 29255(line=1012, offs=4)
*/
ATSglobaldec()
ats_void_type
glTetrix_keyboard (ats_uchar_type arg0, ats_int_type arg1, ats_int_type arg2) {
/* local vardec */
// ATSlocal_void (tmp538) ;
ATSlocal (ats_int_type, tmp539) ;
ATSlocal (ats_int_type, tmp540) ;
ATSlocal (ats_int_type, tmp541) ;
ATSlocal (ats_int_type, tmp542) ;
// ATSlocal_void (tmp543) ;
// ATSlocal_void (tmp544) ;

__ats_lab_glTetrix_keyboard:
do {
/* branch: __ats_lab_57 */
__ats_lab_57_0:
if (ats_castfn_mac(ats_char_type, arg0) != 'i') { goto __ats_lab_58_0 ; }
__ats_lab_57_1:
tmp539 = theCurrentShape_rotate_if (1) ;
/* tmp538 = */ atsctrb_glutPostRedisplay () ;
break ;

/* branch: __ats_lab_58 */
__ats_lab_58_0:
if (ats_castfn_mac(ats_char_type, arg0) != 'k') { goto __ats_lab_59_0 ; }
__ats_lab_58_1:
tmp540 = theCurrentShape_rotate_if (3) ;
/* tmp538 = */ atsctrb_glutPostRedisplay () ;
break ;

/* branch: __ats_lab_59 */
__ats_lab_59_0:
if (ats_castfn_mac(ats_char_type, arg0) != 'j') { goto __ats_lab_60_0 ; }
__ats_lab_59_1:
tmp541 = theCurrentShape_xmove_if (-1) ;
/* tmp538 = */ atsctrb_glutPostRedisplay () ;
break ;

/* branch: __ats_lab_60 */
__ats_lab_60_0:
if (ats_castfn_mac(ats_char_type, arg0) != 'l') { goto __ats_lab_61_0 ; }
__ats_lab_60_1:
tmp542 = theCurrentShape_xmove_if (1) ;
/* tmp538 = */ atsctrb_glutPostRedisplay () ;
break ;

/* branch: __ats_lab_61 */
__ats_lab_61_0:
if (ats_castfn_mac(ats_char_type, arg0) != ' ') { goto __ats_lab_62_0 ; }
__ats_lab_61_1:
/* tmp543 = */ theCurrentShape_freefall () ;
/* tmp538 = */ atsctrb_glutPostRedisplay () ;
break ;

/* branch: __ats_lab_62 */
__ats_lab_62_0:
if (ats_castfn_mac(ats_char_type, arg0) != 'n') { goto __ats_lab_63_0 ; }
__ats_lab_62_1:
/* tmp544 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeShow_toggle () ;
/* tmp538 = */ atsctrb_glutPostRedisplay () ;
break ;

/* branch: __ats_lab_63 */
__ats_lab_63_0:
if (ats_castfn_mac(ats_char_type, arg0) != 'a') { goto __ats_lab_64_0 ; }
__ats_lab_63_1:
/* tmp538 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_dec () ;
break ;

/* branch: __ats_lab_64 */
__ats_lab_64_0:
if (ats_castfn_mac(ats_char_type, arg0) != 'd') { goto __ats_lab_65_0 ; }
__ats_lab_64_1:
/* tmp538 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_inc () ;
break ;

/* branch: __ats_lab_65 */
__ats_lab_65_0:
if (ats_castfn_mac(ats_char_type, arg0) != '\033') { goto __ats_lab_66_0 ; }
__ats_lab_65_1:
/* tmp538 = */ ats_exit (0) ;
break ;

/* branch: __ats_lab_66 */
__ats_lab_66_0:
__ats_lab_66_1:
break ;
} while (0) ;
return /* (tmp538) */ ;
} /* end of [glTetrix_keyboard] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 29399(line=1022, offs=3) -- 29917(line=1040, offs=4)
*/
ATSglobaldec()
ats_void_type
glTetrix_timer (ats_int_type arg0) {
/* local vardec */
// ATSlocal_void (tmp545) ;
ATSlocal (ats_bool_type, tmp546) ;
ATSlocal (ats_bool_type, tmp547) ;
ATSlocal (ats_int_type, tmp548) ;
// ATSlocal_void (tmp549) ;
ATSlocal (ats_bool_type, tmp550) ;
// ATSlocal_void (tmp551) ;
// ATSlocal_void (tmp552) ;
ATSlocal (ats_uint_type, tmp553) ;

__ats_lab_glTetrix_timer:
tmp547 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theGameOver_get () ;
tmp546 = atspre_neg_bool (tmp547) ;
if (tmp546) {
tmp548 = theCurrentShape_ymove_if (-1) ;
tmp550 = atspre_eq_int_int (tmp548, 0) ;
if (tmp550) {
/* tmp551 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShape_absorb () ;
/* tmp549 = */ ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShape_update () ;
} else {
/* empty */
} /* end of [if] */
/* tmp552 = */ atsctrb_glutPostRedisplay () ;
tmp553 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theTimerTimeInterval_get () ;
/* tmp545 = */ atsctrb_glutTimerFunc (tmp553, &glTetrix_timer, 0) ;
} else {
/* empty */
} /* end of [if] */
return /* (tmp545) */ ;
} /* end of [glTetrix_timer] */

#ifdef _ATS_PROOFCHECK
/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 29967(line=1044, offs=1) -- 29995(line=1044, offs=29)
*/
ATSglobaldec()
ats_void_type
ATS_2d0_2e2_2e12_2prelude_2basics_dyn_2esats__main_dummy_prfck () {
/* local vardec */
// ATSlocal_void (tmp554) ;

ats_proofcheck_beg_mac(ATS_2d0_2e2_2e12_2prelude_2basics_dyn_2esats__main_dummy) ;
ats_proofcheck_end_mac(ATS_2d0_2e2_2e12_2prelude_2basics_dyn_2esats__main_dummy) ;
return /* (tmp554) */ ;
} /* end of [ATS_2d0_2e2_2e12_2prelude_2basics_dyn_2esats__main_dummy_prfck] */
#endif /* _ATS_PROOFCHECK */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 30237(line=1063, offs=22) -- 30317(line=1064, offs=56)
*/
ATSglobaldec()
ats_ptr_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_make (ats_int_type arg0, ats_int_type arg1, ats_ptr_type arg2, ats_int_type arg3) {
/* local vardec */
ATSlocal (ats_ptr_type, tmp555) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_make:
tmp555 = ATS_MALLOC(sizeof(anairiats_rec_2)) ;
ats_selptrset_mac(anairiats_rec_2, tmp555, atslab_xlen, arg0) ;
ats_selptrset_mac(anairiats_rec_2, tmp555, atslab_ylen, arg1) ;
ats_selptrset_mac(anairiats_rec_2, tmp555, atslab_matrix, arg2) ;
ats_selptrset_mac(anairiats_rec_2, tmp555, atslab_points, arg3) ;

return (tmp555) ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_make] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 30367(line=1067, offs=26) -- 30379(line=1067, offs=38)
*/
ATSglobaldec()
ats_int_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_xlen_get (ats_ptr_type arg0) {
/* local vardec */
ATSlocal (ats_int_type, tmp556) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_xlen_get:
tmp556 = ats_selbox_mac(ats_castptr_mac(anairiats_rec_2, arg0), atslab_xlen) ;
return (tmp556) ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_xlen_get] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 30405(line=1068, offs=26) -- 30417(line=1068, offs=38)
*/
ATSglobaldec()
ats_int_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_ylen_get (ats_ptr_type arg0) {
/* local vardec */
ATSlocal (ats_int_type, tmp557) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_ylen_get:
tmp557 = ats_selbox_mac(ats_castptr_mac(anairiats_rec_2, arg0), atslab_ylen) ;
return (tmp557) ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_ylen_get] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 30445(line=1069, offs=28) -- 30459(line=1069, offs=42)
*/
ATSglobaldec()
ats_ptr_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_matrix_get (ats_ptr_type arg0) {
/* local vardec */
ATSlocal (ats_ptr_type, tmp558) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_matrix_get:
tmp558 = ats_selbox_mac(ats_castptr_mac(anairiats_rec_2, arg0), atslab_matrix) ;
return (tmp558) ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_matrix_get] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/OpenGL/glTetrix.dats: 30487(line=1070, offs=28) -- 30501(line=1070, offs=42)
*/
ATSglobaldec()
ats_int_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_points_get (ats_ptr_type arg0) {
/* local vardec */
ATSlocal (ats_int_type, tmp559) ;

__ats_lab_ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_points_get:
tmp559 = ats_selbox_mac(ats_castptr_mac(anairiats_rec_2, arg0), atslab_points) ;
return (tmp559) ;
} /* end of [ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_points_get] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/reference.dats: 1828(line=57, offs=18) -- 1902(line=59, offs=4)
*/
ATSstaticdec()
ats_ptr_type
ref_01088_ats_ptr_type (ats_ptr_type arg0) {
/* local vardec */
ATSlocal (ats_ptr_type, tmp590) ;
ATSlocal (ats_ptr_type, tmp591) ;

__ats_lab_ref_01088_ats_ptr_type:
/* ats_ptr_type tmp591 ; */
tmp591 = arg0 ;
tmp590 = atspre_ref_make_elt_tsz ((&tmp591), sizeof(ats_ptr_type)) ;
return (tmp590) ;
} /* end of [ref_01088_ats_ptr_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/reference.dats: 1994(line=62, offs=27) -- 2009(line=62, offs=42)
*/
ATSstaticdec()
ats_ptr_type
ref_make_elt_01089_ats_ptr_type (ats_ptr_type arg0) {
/* local vardec */
ATSlocal (ats_ptr_type, tmp589) ;

__ats_lab_ref_make_elt_01089_ats_ptr_type:
tmp589 = ref_01088_ats_ptr_type (arg0) ;
return (tmp589) ;
} /* end of [ref_make_elt_01089_ats_ptr_type] */

/* static load function */

extern ats_void_type ATS_2d0_2e2_2e12_2libc_2SATS_2random_2esats__staload (void) ;
extern ats_void_type ATS_2d0_2e2_2e12_2libc_2SATS_2unistd_2esats__staload (void) ;
// extern ats_void_type ATS_2d0_2e2_2e12_2contrib_2GL_2SATS_2gl_2esats__staload (void) ;
// extern ats_void_type ATS_2d0_2e2_2e12_2contrib_2GL_2SATS_2glut_2esats__staload (void) ;
// extern ats_void_type ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats__staload (void) ;
extern ats_void_type ATS_2d0_2e2_2e12_2prelude_2DATS_2matrix_2edats__staload (void) ;
extern ats_void_type ATS_2d0_2e2_2e12_2prelude_2DATS_2reference_2edats__staload (void) ;
extern ats_void_type ATS_2d0_2e2_2e12_2libc_2SATS_2math_2esats__staload (void) ;

ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__staload () {
static int ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__staload_flag = 0 ;
if (ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__staload_flag) return ;
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__staload_flag = 1 ;

ATS_2d0_2e2_2e12_2libc_2SATS_2random_2esats__staload () ;
ATS_2d0_2e2_2e12_2libc_2SATS_2unistd_2esats__staload () ;
// ATS_2d0_2e2_2e12_2contrib_2GL_2SATS_2gl_2esats__staload () ;
// ATS_2d0_2e2_2e12_2contrib_2GL_2SATS_2glut_2esats__staload () ;
// ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats__staload () ;
ATS_2d0_2e2_2e12_2prelude_2DATS_2matrix_2edats__staload () ;
ATS_2d0_2e2_2e12_2prelude_2DATS_2reference_2edats__staload () ;
ATS_2d0_2e2_2e12_2libc_2SATS_2math_2esats__staload () ;

return ;
} /* staload function */

/* dynamic load function */

// dynload flag declaration
// extern ats_int_type ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__dynload_flag ;

ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__dynload () {
// ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__dynload_flag = 1 ;
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__staload () ;

#ifdef _ATS_PROOFCHECK
ATS_2d0_2e2_2e12_2prelude_2basics_dyn_2esats__main_dummy_prfck () ;
ATS_2d0_2e2_2e12_2prelude_2SATS_2arith_2esats__mul_istot_prfck () ;
ATS_2d0_2e2_2e12_2prelude_2SATS_2arith_2esats__mul_nat_nat_nat_prfck () ;
ATS_2d0_2e2_2e12_2prelude_2SATS_2array_2esats__array_v_takeout2_prfck () ;
ATS_2d0_2e2_2e12_2prelude_2SATS_2matrix_2esats__array_v_of_matrix_v_prfck () ;
ATS_2d0_2e2_2e12_2prelude_2SATS_2matrix_2esats__matrix_v_of_array_v_prfck () ;
ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____copy_prfck () ;
ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____free_prfck () ;
ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____assert_prfck () ;
ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____assert_prfck () ;
#endif /* _ATS_PROOFCHECK */

/* marking static variables for GC */
ATS_GC_MARKROOT(&statmp11, sizeof(ats_int_type)) ;
ATS_GC_MARKROOT(&statmp13, sizeof(ats_bool_type)) ;
ATS_GC_MARKROOT(&statmp14, sizeof(ats_int_type)) ;
ATS_GC_MARKROOT(&statmp15, sizeof(ats_double_type)) ;
ATS_GC_MARKROOT(&statmp16, sizeof(ats_double_type)) ;
ATS_GC_MARKROOT(&statmp17, sizeof(ats_double_type)) ;
ATS_GC_MARKROOT(&statmp18, sizeof(ats_double_type)) ;
ATS_GC_MARKROOT(&statmp19, sizeof(ats_double_type)) ;
ATS_GC_MARKROOT(&statmp20, sizeof(ats_double_type)) ;
ATS_GC_MARKROOT(&statmp21, sizeof(ats_double_type)) ;
ATS_GC_MARKROOT(&statmp22, sizeof(ats_double_type)) ;
ATS_GC_MARKROOT(&statmp23, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp31, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp35, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp36, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp57, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp68, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp560, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp561, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp562, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp565, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp568, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp571, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp574, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp577, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp578, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp579, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp580, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp581, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp582, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp583, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp584, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp585, sizeof(anairiats_rec_1)) ;
ATS_GC_MARKROOT(&statmp586, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp587, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp588, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp592, sizeof(ats_ptr_type)) ;
ATS_GC_MARKROOT(&statmp593, sizeof(ats_ptr_type)) ;

/* marking external values for GC */

/* code for dynamic loading */
/* ats_int_type statmp11 ; */
statmp11 = 12 ;
statmp13 = atspre_ilt (statmp11, 24) ;
if (statmp13) {
statmp11 = 24 ;
} else {
/* empty */
} /* end of [if] */
statmp14 = atspre_add_int_int (statmp11, 4) ;
statmp16 = atspre_double_of_int (statmp14) ;
statmp15 = atspre_div_double_double (1.0, statmp16) ;
statmp17 = atspre_mul_int_double (12, statmp15) ;
statmp18 = atspre_mul_int_double (24, statmp15) ;
statmp20 = atspre_sub_double_double (1.0, statmp17) ;
statmp19 = atspre_div_double_int (statmp20, 2) ;
statmp22 = atspre_sub_double_double (1.0, statmp18) ;
statmp21 = atspre_div_double_int (statmp22, 2) ;
statmp23 = ref_make_elt_01089_ats_int_type (1) ;
statmp31 = ref_make_elt_01089_ats_bool_type (ats_false_bool) ;
statmp35 = ref_make_elt_01089_ats_int_type (1) ;
statmp36 = ref_make_elt_01089_ats_double_type (1000.0) ;
statmp57 = ref_make_elt_01089_ats_int_type (0) ;
statmp68 = matrix_make_elt_01652_ats_int_type (12, 24, -1) ;
statmp560 = matrix_make_elt_01652_ats_int_type (2, 2, 1) ;
statmp561 = matrix_make_elt_01652_ats_int_type (1, 4, 2) ;
statmp562 = matrix_make_elt_01652_ats_int_type (2, 3, 3) ;
/* statmp563 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp562, 1, 3, 0, -1) ;
/* statmp564 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp562, 1, 3, 2, -1) ;
statmp565 = matrix_make_elt_01652_ats_int_type (2, 3, 4) ;
/* statmp566 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp565, 1, 3, 1, -1) ;
/* statmp567 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp565, 1, 3, 2, -1) ;
statmp568 = matrix_make_elt_01652_ats_int_type (2, 3, 5) ;
/* statmp569 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp568, 0, 3, 1, -1) ;
/* statmp570 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp568, 0, 3, 2, -1) ;
statmp571 = matrix_make_elt_01652_ats_int_type (2, 3, 6) ;
/* statmp572 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp571, 0, 3, 2, -1) ;
/* statmp573 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp571, 1, 3, 0, -1) ;
statmp574 = matrix_make_elt_01652_ats_int_type (2, 3, 7) ;
/* statmp575 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp574, 0, 3, 0, -1) ;
/* statmp576 = */ matrix_set_elt_at__intsz_01659_ats_int_type (statmp574, 1, 3, 2, -1) ;
statmp577 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_make (2, 2, statmp560, 40) ;
statmp578 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_make (1, 4, statmp561, 40) ;
statmp579 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_make (2, 3, statmp562, 50) ;
statmp580 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_make (2, 3, statmp565, 60) ;
statmp581 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_make (2, 3, statmp568, 60) ;
statmp582 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_make (2, 3, statmp571, 60) ;
statmp583 = ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__shape_make (2, 3, statmp574, 60) ;
/* array allocation on heap */
statmp585.atslab_2 = atspre_array_ptr_alloc_tsz (7, sizeof(ats_ptr_type)) ;
statmp585.atslab_3 = 7 ;

statmp586 = ats_select_mac(statmp585, atslab_2) ;
ats_caselptrind_mac(ats_ptr_type, statmp586, [0]) = statmp577 ;
ats_caselptrind_mac(ats_ptr_type, statmp586, [1]) = statmp578 ;
ats_caselptrind_mac(ats_ptr_type, statmp586, [2]) = statmp579 ;
ats_caselptrind_mac(ats_ptr_type, statmp586, [3]) = statmp580 ;
ats_caselptrind_mac(ats_ptr_type, statmp586, [4]) = statmp581 ;
ats_caselptrind_mac(ats_ptr_type, statmp586, [5]) = statmp582 ;
ats_caselptrind_mac(ats_ptr_type, statmp586, [6]) = statmp583 ;
statmp584 = ATS_2d0_2e2_2e12_2prelude_2SATS_2array_2esats__array_make_arrpsz (statmp585) ;
ATS_GC_MARKROOT(&ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theShapeArray, sizeof(ats_ptr_type)) ;
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theShapeArray = statmp584 ;
statmp587 = array_get_elt_at_01614_ats_ptr_type (ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theShapeArray, 0) ;
statmp588 = ref_make_elt_01089_ats_ptr_type (statmp587) ;
ATS_GC_MARKROOT(&ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeRef, sizeof(ats_ptr_type)) ;
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theNextShapeRef = statmp588 ;
statmp592 = array_get_elt_at_01614_ats_ptr_type (ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theShapeArray, 0) ;
statmp593 = ref_make_elt_01089_ats_ptr_type (statmp592) ;
ATS_GC_MARKROOT(&ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShapeRef, sizeof(ats_ptr_type)) ;
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__theCurrentShapeRef = statmp593 ;
return ;
} /* end of [dynload function] */

int main (int argc, char *argv[]) {
ATS_GC_INIT() ;
mainats_prelude() ;
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2OpenGL_2glTetrix_2edats__dynload() ;
mainats((ats_int_type)argc, (ats_ptr_type)argv) ;
return (0) ;
} /* end of main */

/* external codes at mid */
/* external codes at bot */


ats_int_type color_index_get (color_t c) {
  return c ;
}

ats_bool_type color_is_none (color_t c) {
  return (c < 0) ? ats_true_bool : ats_false_bool ;
}

ats_bool_type color_is_some (color_t c) {
  return (c >= 0) ? ats_true_bool : ats_false_bool ;
}

ats_bool_type eq_color_color (color_t c1, color_t c2) {
  return (c1 == c2) ? ats_true_bool : ats_false_bool ;
}

ats_bool_type neq_color_color (color_t c1, color_t c2) {
  return (c1 != c2) ? ats_true_bool : ats_false_bool ;
}



static int the_rotkind = 0 ;

rotkind_t the_rotkind_get () { return the_rotkind ; }
ats_void_type
the_rotkind_set (rotkind_t rk) { the_rotkind = rk ; return ; }

static int the_ix_center = 0 ;
static int the_iy_center = 0 ;

ats_int_type the_ix_center_get () { return the_ix_center ; }
ats_void_type
the_ix_center_set (ats_int_type x) { the_ix_center = x ; return ; }

ats_int_type the_iy_center_get () { return the_iy_center ; }
ats_void_type
the_iy_center_set (ats_int_type y) { the_iy_center = y; return  ; }



ats_void_type
mainats (
  ats_int_type argc
, ats_ptr_type argv
) {
  glutInit ((int*)&argc, (char**)argv) ;
  glutInitDisplayMode (GLUT_DOUBLE | GLUT_RGB) ;
  glutInitWindowSize (600, 600) ;
  glutInitWindowPosition (100, 100) ;
  glutCreateWindow("Tetrix Game") ;
  glTetrix_initialize () ;
  glutDisplayFunc (glTetrix_display) ;
  // glutReshapeFunc (reshape) ;
  glutKeyboardFunc (glTetrix_keyboard) ;
  glTetrix_timer (0) ;
  glutMainLoop () ;
  return ; /* deadcode */
} /* end of [mainats] */



/* ****** ****** */

/* end of [glTetrix_dats.c] */

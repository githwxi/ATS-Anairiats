/*
**
** The C code is generated by ATS/Anairiats
** The compilation time is: 2018-1-26: 18h:27m
**
*/

/* include some .h files */
#ifndef _ATS_HEADER_NONE
#include "ats_config.h"
#include "ats_basics.h"
#include "ats_types.h"
#include "ats_exception.h"
#include "ats_memory.h"
#endif /* _ATS_HEADER_NONE */

/* include some .cats files */
#ifndef _ATS_PRELUDE_NONE
#include "prelude/CATS/basics.cats"
#include "prelude/CATS/integer.cats"
#include "prelude/CATS/sizetype.cats"
#include "prelude/CATS/integer_ptr.cats"
#include "prelude/CATS/integer_fixed.cats"
#include "prelude/CATS/pointer.cats"
#include "prelude/CATS/bool.cats"
#include "prelude/CATS/char.cats"
#include "prelude/CATS/byte.cats"
#include "prelude/CATS/float.cats"
#include "prelude/CATS/string.cats"
#include "prelude/CATS/reference.cats"
#include "prelude/CATS/lazy.cats"
#include "prelude/CATS/lazy_vt.cats"
#include "prelude/CATS/printf.cats"
#include "prelude/CATS/list.cats"
#include "prelude/CATS/option.cats"
#include "prelude/CATS/array.cats"
#include "prelude/CATS/matrix.cats"
#endif /* _ATS_PRELUDE_NONE */
/* prologues from statically loaded files */
/* external codes at top */
/* type definitions */
typedef
struct {
ats_ptr_type atslab_3 ;
ats_ptr_type atslab_4 ;
} anairiats_rec_0 ;

typedef
struct {
ats_ptr_type atslab_2 ;
ats_size_type atslab_3 ;
} anairiats_rec_1 ;

/* external typedefs */
/* external dynamic constructor declarations */
/* external dynamic constant declarations */
ATSextern_fun(ats_void_type, atspre_vbox_make_view_ptr) (ats_ptr_type) ;
ATSextern_fun(ats_void_type, atspre_print_newline) () ;
ATSextern_fun(ats_void_type, atspre_print_char) (ats_char_type) ;
ATSextern_fun(ats_int_type, atspre_iadd) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_int_type, atspre_isub) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_bool_type, atspre_ieq) (ats_int_type, ats_int_type) ;
ATSextern_fun(ats_int_type, atspre_int1_of_size1) (ats_size_type) ;
ATSextern_fun(ats_size_type, atspre_size1_of_int1) (ats_int_type) ;
ATSextern_fun(ats_size_type, atspre_add_size1_int1) (ats_size_type, ats_int_type) ;
ATSextern_fun(ats_size_type, atspre_add_size1_size1) (ats_size_type, ats_size_type) ;
ATSextern_fun(ats_size_type, atspre_sub_size1_int1) (ats_size_type, ats_int_type) ;
ATSextern_fun(ats_size_type, atspre_mul2_size1_size1) (ats_size_type, ats_size_type) ;
ATSextern_fun(ats_bool_type, atspre_lt_int1_size1) (ats_int_type, ats_size_type) ;
ATSextern_fun(ats_bool_type, atspre_lt_size1_size1) (ats_size_type, ats_size_type) ;
ATSextern_fun(ats_bool_type, atspre_gt_size1_int1) (ats_size_type, ats_int_type) ;
ATSextern_fun(ats_bool_type, atspre_neq_size1_size1) (ats_size_type, ats_size_type) ;
ATSextern_fun(ats_ptr_type, atspre_array_ptr_alloc_tsz) (ats_size_type, ats_size_type) ;
ATSextern_fun(ats_void_type, atspre_array_ptr_free) (ats_ptr_type) ;
ATSextern_fun(ats_void_type, atspre_array_ptr_initialize_elt_tsz) (ats_ref_type, ats_size_type, ats_ref_type, ats_size_type) ;
ATSextern_fun(ats_void_type, atspre_array_ptr_initialize_funenv_tsz) (ats_ref_type, ats_size_type, ats_ptr_type, ats_size_type, ats_ptr_type) ;
ATSextern_fun(ats_void_type, atspre_array_ptr_initialize_cloenv_tsz) (ats_ref_type, ats_size_type, ats_ref_type, ats_size_type, ats_ptr_type) ;
ATSextern_fun(ats_ptr_type, atspre_array_ptr_split_tsz) (ats_ptr_type, ats_size_type, ats_size_type) ;
ATSextern_fun(ats_ptr_type, atspre_array_ptr_takeout_tsz) (ats_ptr_type, ats_size_type, ats_size_type) ;
ATSextern_fun(anairiats_rec_0, atspre_array_ptr_takeout2_tsz) (ats_ptr_type, ats_size_type, ats_size_type, ats_size_type) ;
ATSextern_fun(ats_void_type, atspre_array_ptr_foreach_funenv_tsz) (ats_ref_type, ats_ptr_type, ats_size_type, ats_size_type, ats_ptr_type) ;
ATSextern_fun(ats_void_type, atspre_array_ptr_iforeach_funenv_tsz) (ats_ref_type, ats_ptr_type, ats_size_type, ats_size_type, ats_ptr_type) ;
ATSextern_fun(ats_ptr_type, atspre_array2_ptr_takeout_tsz) (ats_ptr_type, ats_size_type, ats_size_type, ats_size_type) ;
ATSextern_fun(ats_ptr_type, ATS_2d0_2e2_2e12_2prelude_2SATS_2array_2esats__array_make_arrpsz) (anairiats_rec_1) ;

/* external dynamic terminating constant declarations */
#ifdef _ATS_PROOFCHECK
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2SATS_2array_2esats__array_v_takeout2_prfck () ;
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____copy_prfck () ;
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____free_prfck () ;
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____assert_prfck () ;
extern
ats_void_type ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____assert_prfck () ;
#endif /* _ATS_PROOFCHECK */

/* assuming abstract types */
/* sum constructor declarations */
/* exn constructor declarations */
/* global dynamic (non-functional) constant declarations */
/* internal function declarations */
static
ats_void_type array_set_elt_at__intsz_01618_ats_int_type (ats_ptr_type arg0, ats_int_type arg1, ats_int_type arg2) ;
static
ats_void_type aux_2 (ats_size_type env0, ats_ptr_type env1, ats_int_type arg0) ;
static
ats_clo_ptr_type aux_2_closure_make (ats_size_type env0, ats_ptr_type env1) ;
static
ats_void_type aux_2_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) ;
static
ats_void_type initialize_1 (ats_size_type env0, ats_ptr_type arg0) ;
static
ats_clo_ptr_type initialize_1_closure_make (ats_size_type env0) ;
static
ats_void_type initialize_1_clofun (ats_clo_ptr_type cloptr, ats_ptr_type arg0) ;
static
ats_void_type aux_5 (ats_size_type env0, ats_int_type env1, ats_int_type arg0) ;
static
ats_clo_ptr_type aux_5_closure_make (ats_size_type env0, ats_int_type env1) ;
static
ats_void_type aux_5_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) ;
static
ats_void_type showpiece_4 (ats_size_type env0, ats_int_type arg0) ;
static
ats_clo_ptr_type showpiece_4_closure_make (ats_size_type env0) ;
static
ats_void_type showpiece_4_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) ;
static
ats_int_type array_get_elt_at__intsz_01617_ats_int_type (ats_ptr_type arg0, ats_int_type arg1) ;
static
ats_void_type aux_7 (ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3, ats_int_type arg0) ;
static
ats_clo_ptr_type aux_7_closure_make (ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3) ;
static
ats_void_type aux_7_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) ;
static
ats_void_type showposts_6 (ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3) ;
static
ats_clo_ptr_type showposts_6_closure_make (ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3) ;
static
ats_void_type showposts_6_clofun (ats_clo_ptr_type cloptr) ;
static
ats_void_type move_9 (ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3, ats_int_type arg0, ats_ptr_type arg1, ats_int_type arg2, ats_ptr_type arg3, ats_int_type arg4, ats_ptr_type arg5, ats_int_type arg6) ;
static
ats_clo_ptr_type move_9_closure_make (ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3) ;
static
ats_void_type move_9_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ats_ptr_type arg1, ats_int_type arg2, ats_ptr_type arg3, ats_int_type arg4, ats_ptr_type arg5, ats_int_type arg6) ;
static
ats_void_type play_0 (ats_size_type arg0) ;

/* partial value template declarations */
/* static temporary variable declarations */
/* external value variable declarations */

/* function implementations */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/array.dats: 15190(line=545, offs=25) -- 15293(line=549, offs=4)
*/
ATSstaticdec()
ats_void_type
array_set_elt_at__intsz_01618_ats_int_type (ats_ptr_type arg0, ats_int_type arg1, ats_int_type arg2) {
/* local vardec */
// ATSlocal_void (tmp21) ;
ATSlocal (ats_size_type, tmp22) ;
ATSlocal (ats_ptr_type, tmp23) ;

__ats_lab_array_set_elt_at__intsz_01618_ats_int_type:
tmp22 = atspre_size1_of_int1 (arg1) ;
tmp23 = ats_selsin_mac(arg0, atslab_data) ;
ats_caselptrind_mac(ats_int_type, tmp23, [tmp22]) = arg2 ;
return /* (tmp21) */ ;
} /* end of [array_set_elt_at__intsz_01618_ats_int_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/MISC/hanoi.dats: 1072(line=43, offs=9) -- 1160(line=44, offs=53)
*/
ATSstaticdec()
ats_void_type
aux_2 (ats_size_type env0, ats_ptr_type env1, ats_int_type arg0) {
/* local vardec */
// ATSlocal_void (tmp18) ;
ATSlocal (ats_bool_type, tmp19) ;
// ATSlocal_void (tmp20) ;
ATSlocal (ats_int_type, tmp24) ;
ATSlocal (ats_int_type, tmp25) ;

__ats_lab_aux_2:
tmp19 = atspre_lt_int1_size1 (arg0, env0) ;
if (tmp19) {
tmp24 = atspre_iadd (arg0, 1) ;
/* tmp20 = */ array_set_elt_at__intsz_01618_ats_int_type (env1, arg0, tmp24) ;
tmp25 = atspre_iadd (arg0, 1) ;
arg0 = tmp25 ;
goto __ats_lab_aux_2 ; // tail call
} else {
/* empty */
} /* end of [if] */
return /* (tmp18) */ ;
} /* end of [aux_2] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_size_type closure_env_0 ;
ats_ptr_type closure_env_1 ;
} aux_2_closure_type ;

ats_void_type
aux_2_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) {
aux_2 (((aux_2_closure_type*)cloptr)->closure_env_0, ((aux_2_closure_type*)cloptr)->closure_env_1, arg0) ; return ;
} /* end of function */

ATSinline()
ats_void_type
aux_2_closure_init (aux_2_closure_type *p_clo, ats_size_type env0, ats_ptr_type env1) {
p_clo->closure_fun = (ats_fun_ptr_type)&aux_2_clofun ;
p_clo->closure_env_0 = env0 ;
p_clo->closure_env_1 = env1 ;
return ;
} /* end of function */

ats_clo_ptr_type
aux_2_closure_make (ats_size_type env0, ats_ptr_type env1) {
aux_2_closure_type *p_clo = ATS_MALLOC(sizeof(aux_2_closure_type)) ;
aux_2_closure_init (p_clo, env0, env1) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/MISC/hanoi.dats: 1017(line=42, offs=6) -- 1183(line=47, offs=6)
*/
ATSstaticdec()
ats_void_type
initialize_1 (ats_size_type env0, ats_ptr_type arg0) {
/* local vardec */
// ATSlocal_void (tmp17) ;

__ats_lab_initialize_1:
/* tmp17 = */ aux_2 (env0, arg0, 0) ;
return /* (tmp17) */ ;
} /* end of [initialize_1] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_size_type closure_env_0 ;
} initialize_1_closure_type ;

ats_void_type
initialize_1_clofun (ats_clo_ptr_type cloptr, ats_ptr_type arg0) {
initialize_1 (((initialize_1_closure_type*)cloptr)->closure_env_0, arg0) ; return ;
} /* end of function */

ATSinline()
ats_void_type
initialize_1_closure_init (initialize_1_closure_type *p_clo, ats_size_type env0) {
p_clo->closure_fun = (ats_fun_ptr_type)&initialize_1_clofun ;
p_clo->closure_env_0 = env0 ;
return ;
} /* end of function */

ats_clo_ptr_type
initialize_1_closure_make (ats_size_type env0) {
initialize_1_closure_type *p_clo = ATS_MALLOC(sizeof(initialize_1_closure_type)) ;
initialize_1_closure_init (p_clo, env0) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/MISC/hanoi.dats: 1267(line=50, offs=9) -- 1556(line=57, offs=10)
*/
ATSstaticdec()
ats_void_type
aux_5 (ats_size_type env0, ats_int_type env1, ats_int_type arg0) {
/* local vardec */
// ATSlocal_void (tmp27) ;
ATSlocal (ats_bool_type, tmp28) ;
ATSlocal (ats_size_type, tmp29) ;
// ATSlocal_void (tmp30) ;
ATSlocal (ats_int_type, tmp31) ;
ATSlocal (ats_bool_type, tmp32) ;
ATSlocal (ats_size_type, tmp33) ;
ATSlocal (ats_size_type, tmp34) ;
// ATSlocal_void (tmp35) ;
ATSlocal (ats_int_type, tmp36) ;
ATSlocal (ats_bool_type, tmp37) ;
ATSlocal (ats_size_type, tmp38) ;
// ATSlocal_void (tmp39) ;
ATSlocal (ats_int_type, tmp40) ;

__ats_lab_aux_5:
tmp29 = atspre_sub_size1_int1 (env0, env1) ;
tmp28 = atspre_lt_int1_size1 (arg0, tmp29) ;
if (tmp28) {
/* tmp30 = */ atspre_print_char (' ') ;
tmp31 = atspre_iadd (arg0, 1) ;
arg0 = tmp31 ;
goto __ats_lab_aux_5 ; // tail call
} else {
tmp34 = atspre_add_size1_int1 (env0, env1) ;
tmp33 = atspre_sub_size1_int1 (tmp34, 1) ;
tmp32 = atspre_lt_int1_size1 (arg0, tmp33) ;
if (tmp32) {
/* tmp35 = */ atspre_print_char ('O') ;
tmp36 = atspre_iadd (arg0, 1) ;
arg0 = tmp36 ;
goto __ats_lab_aux_5 ; // tail call
} else {
tmp38 = atspre_add_size1_size1 (env0, env0) ;
tmp37 = atspre_lt_int1_size1 (arg0, tmp38) ;
if (tmp37) {
/* tmp39 = */ atspre_print_char (' ') ;
tmp40 = atspre_iadd (arg0, 1) ;
arg0 = tmp40 ;
goto __ats_lab_aux_5 ; // tail call
} else {
/* empty */
} /* end of [if] */
} /* end of [if] */
} /* end of [if] */
return /* (tmp27) */ ;
} /* end of [aux_5] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_size_type closure_env_0 ;
ats_int_type closure_env_1 ;
} aux_5_closure_type ;

ats_void_type
aux_5_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) {
aux_5 (((aux_5_closure_type*)cloptr)->closure_env_0, ((aux_5_closure_type*)cloptr)->closure_env_1, arg0) ; return ;
} /* end of function */

ATSinline()
ats_void_type
aux_5_closure_init (aux_5_closure_type *p_clo, ats_size_type env0, ats_int_type env1) {
p_clo->closure_fun = (ats_fun_ptr_type)&aux_5_clofun ;
p_clo->closure_env_0 = env0 ;
p_clo->closure_env_1 = env1 ;
return ;
} /* end of function */

ats_clo_ptr_type
aux_5_closure_make (ats_size_type env0, ats_int_type env1) {
aux_5_closure_type *p_clo = ATS_MALLOC(sizeof(aux_5_closure_type)) ;
aux_5_closure_init (p_clo, env0, env1) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/MISC/hanoi.dats: 1213(line=49, offs=6) -- 1579(line=60, offs=6)
*/
ATSstaticdec()
ats_void_type
showpiece_4 (ats_size_type env0, ats_int_type arg0) {
/* local vardec */
// ATSlocal_void (tmp26) ;

__ats_lab_showpiece_4:
/* tmp26 = */ aux_5 (env0, arg0, 0) ;
return /* (tmp26) */ ;
} /* end of [showpiece_4] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_size_type closure_env_0 ;
} showpiece_4_closure_type ;

ats_void_type
showpiece_4_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) {
showpiece_4 (((showpiece_4_closure_type*)cloptr)->closure_env_0, arg0) ; return ;
} /* end of function */

ATSinline()
ats_void_type
showpiece_4_closure_init (showpiece_4_closure_type *p_clo, ats_size_type env0) {
p_clo->closure_fun = (ats_fun_ptr_type)&showpiece_4_clofun ;
p_clo->closure_env_0 = env0 ;
return ;
} /* end of function */

ats_clo_ptr_type
showpiece_4_closure_make (ats_size_type env0) {
showpiece_4_closure_type *p_clo = ATS_MALLOC(sizeof(showpiece_4_closure_type)) ;
showpiece_4_closure_init (p_clo, env0) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/prelude/DATS/array.dats: 15030(line=538, offs=25) -- 15125(line=542, offs=4)
*/
ATSstaticdec()
ats_int_type
array_get_elt_at__intsz_01617_ats_int_type (ats_ptr_type arg0, ats_int_type arg1) {
/* local vardec */
ATSlocal (ats_int_type, tmp46) ;
ATSlocal (ats_size_type, tmp47) ;
ATSlocal (ats_ptr_type, tmp48) ;

__ats_lab_array_get_elt_at__intsz_01617_ats_int_type:
tmp47 = atspre_size1_of_int1 (arg1) ;
tmp48 = ats_selsin_mac(arg0, atslab_data) ;
tmp46 = ats_caselptrind_mac(ats_int_type, tmp48, [tmp47]) ;
return (tmp46) ;
} /* end of [array_get_elt_at__intsz_01617_ats_int_type] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/MISC/hanoi.dats: 1650(line=63, offs=9) -- 1917(line=72, offs=10)
*/
ATSstaticdec()
ats_void_type
aux_7 (ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3, ats_int_type arg0) {
/* local vardec */
// ATSlocal_void (tmp42) ;
ATSlocal (ats_bool_type, tmp43) ;
// ATSlocal_void (tmp44) ;
ATSlocal (ats_int_type, tmp45) ;
// ATSlocal_void (tmp49) ;
ATSlocal (ats_int_type, tmp50) ;
// ATSlocal_void (tmp51) ;
ATSlocal (ats_int_type, tmp52) ;
// ATSlocal_void (tmp53) ;
ATSlocal (ats_int_type, tmp54) ;

__ats_lab_aux_7:
tmp43 = atspre_lt_int1_size1 (arg0, env0) ;
if (tmp43) {
tmp45 = array_get_elt_at__intsz_01617_ats_int_type (env1, arg0) ;
/* tmp44 = */ showpiece_4 (env0, tmp45) ;
tmp50 = array_get_elt_at__intsz_01617_ats_int_type (env2, arg0) ;
/* tmp49 = */ showpiece_4 (env0, tmp50) ;
tmp52 = array_get_elt_at__intsz_01617_ats_int_type (env3, arg0) ;
/* tmp51 = */ showpiece_4 (env0, tmp52) ;
/* tmp53 = */ atspre_print_newline () ;
tmp54 = atspre_iadd (arg0, 1) ;
arg0 = tmp54 ;
goto __ats_lab_aux_7 ; // tail call
} else {
/* tmp42 = */ atspre_print_newline () ;
} /* end of [if] */
return /* (tmp42) */ ;
} /* end of [aux_7] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_size_type closure_env_0 ;
ats_ptr_type closure_env_1 ;
ats_ptr_type closure_env_2 ;
ats_ptr_type closure_env_3 ;
} aux_7_closure_type ;

ats_void_type
aux_7_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0) {
aux_7 (((aux_7_closure_type*)cloptr)->closure_env_0, ((aux_7_closure_type*)cloptr)->closure_env_1, ((aux_7_closure_type*)cloptr)->closure_env_2, ((aux_7_closure_type*)cloptr)->closure_env_3, arg0) ; return ;
} /* end of function */

ATSinline()
ats_void_type
aux_7_closure_init (aux_7_closure_type *p_clo, ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3) {
p_clo->closure_fun = (ats_fun_ptr_type)&aux_7_clofun ;
p_clo->closure_env_0 = env0 ;
p_clo->closure_env_1 = env1 ;
p_clo->closure_env_2 = env2 ;
p_clo->closure_env_3 = env3 ;
return ;
} /* end of function */

ats_clo_ptr_type
aux_7_closure_make (ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3) {
aux_7_closure_type *p_clo = ATS_MALLOC(sizeof(aux_7_closure_type)) ;
aux_7_closure_init (p_clo, env0, env1, env2, env3) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/MISC/hanoi.dats: 1608(line=62, offs=6) -- 1940(line=75, offs=6)
*/
ATSstaticdec()
ats_void_type
showposts_6 (ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3) {
/* local vardec */
// ATSlocal_void (tmp41) ;

__ats_lab_showposts_6:
/* tmp41 = */ aux_7 (env0, env1, env2, env3, 0) ;
return /* (tmp41) */ ;
} /* end of [showposts_6] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_size_type closure_env_0 ;
ats_ptr_type closure_env_1 ;
ats_ptr_type closure_env_2 ;
ats_ptr_type closure_env_3 ;
} showposts_6_closure_type ;

ats_void_type
showposts_6_clofun (ats_clo_ptr_type cloptr) {
showposts_6 (((showposts_6_closure_type*)cloptr)->closure_env_0, ((showposts_6_closure_type*)cloptr)->closure_env_1, ((showposts_6_closure_type*)cloptr)->closure_env_2, ((showposts_6_closure_type*)cloptr)->closure_env_3) ; return ;
} /* end of function */

ATSinline()
ats_void_type
showposts_6_closure_init (showposts_6_closure_type *p_clo, ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3) {
p_clo->closure_fun = (ats_fun_ptr_type)&showposts_6_clofun ;
p_clo->closure_env_0 = env0 ;
p_clo->closure_env_1 = env1 ;
p_clo->closure_env_2 = env2 ;
p_clo->closure_env_3 = env3 ;
return ;
} /* end of function */

ats_clo_ptr_type
showposts_6_closure_make (ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3) {
showposts_6_closure_type *p_clo = ATS_MALLOC(sizeof(showposts_6_closure_type)) ;
showposts_6_closure_init (p_clo, env0, env1, env2, env3) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/MISC/hanoi.dats: 2004(line=79, offs=7) -- 2564(line=93, offs=6)
*/
ATSstaticdec()
ats_void_type
move_9 (ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3, ats_int_type arg0, ats_ptr_type arg1, ats_int_type arg2, ats_ptr_type arg3, ats_int_type arg4, ats_ptr_type arg5, ats_int_type arg6) {
/* local vardec */
// ATSlocal_void (tmp56) ;
ATSlocal (ats_bool_type, tmp57) ;
// ATSlocal_void (tmp58) ;
ATSlocal (ats_int_type, tmp59) ;
ATSlocal (ats_int_type, tmp60) ;
// ATSlocal_void (tmp61) ;
// ATSlocal_void (tmp62) ;
ATSlocal (ats_int_type, tmp63) ;
// ATSlocal_void (tmp64) ;
ATSlocal (ats_int_type, tmp65) ;
ATSlocal (ats_int_type, tmp66) ;
ATSlocal (ats_int_type, tmp67) ;
ATSlocal (ats_int_type, tmp68) ;
// ATSlocal_void (tmp69) ;
ATSlocal (ats_int_type, tmp70) ;
ATSlocal (ats_int_type, tmp71) ;
// ATSlocal_void (tmp72) ;
ATSlocal (ats_int_type, tmp73) ;
ATSlocal (ats_int_type, tmp74) ;
ATSlocal (ats_int_type, tmp75) ;
ATSlocal (ats_int_type, tmp76) ;
ATSlocal (ats_int_type, tmp77) ;
ATSlocal (ats_ptr_type, tmp78) ;

__ats_lab_move_9:
tmp57 = atspre_ieq (arg0, 1) ;
if (tmp57) {
tmp59 = atspre_isub (arg4, 1) ;
tmp60 = array_get_elt_at__intsz_01617_ats_int_type (arg1, arg2) ;
/* tmp58 = */ array_set_elt_at__intsz_01618_ats_int_type (arg3, tmp59, tmp60) ;
/* tmp61 = */ array_set_elt_at__intsz_01618_ats_int_type (arg1, arg2, 0) ;
/* tmp56 = */ showposts_6 (env0, env1, env2, env3) ;
} else {
tmp63 = atspre_isub (arg0, 1) ;
/* tmp62 = */ move_9 (env0, env1, env2, env3, tmp63, arg1, arg2, arg5, arg6, arg3, arg4) ;
tmp65 = atspre_isub (arg4, 1) ;
tmp68 = atspre_iadd (arg2, arg0) ;
tmp67 = atspre_isub (tmp68, 1) ;
tmp66 = array_get_elt_at__intsz_01617_ats_int_type (arg1, tmp67) ;
/* tmp64 = */ array_set_elt_at__intsz_01618_ats_int_type (arg3, tmp65, tmp66) ;
tmp71 = atspre_iadd (arg2, arg0) ;
tmp70 = atspre_isub (tmp71, 1) ;
/* tmp69 = */ array_set_elt_at__intsz_01618_ats_int_type (arg1, tmp70, 0) ;
/* tmp72 = */ showposts_6 (env0, env1, env2, env3) ;
tmp73 = atspre_isub (arg0, 1) ;
tmp75 = atspre_isub (arg6, arg0) ;
tmp74 = atspre_iadd (tmp75, 1) ;
tmp76 = atspre_isub (arg4, 1) ;
tmp77 = atspre_iadd (arg2, arg0) ;
tmp78 = arg1 ;
arg0 = tmp73 ;
arg1 = arg5 ;
arg2 = tmp74 ;
arg3 = arg3 ;
arg4 = tmp76 ;
arg5 = tmp78 ;
arg6 = tmp77 ;
goto __ats_lab_move_9 ; // tail call
} /* end of [if] */
return /* (tmp56) */ ;
} /* end of [move_9] */

typedef struct {
ats_fun_ptr_type closure_fun ;
ats_size_type closure_env_0 ;
ats_ptr_type closure_env_1 ;
ats_ptr_type closure_env_2 ;
ats_ptr_type closure_env_3 ;
} move_9_closure_type ;

ats_void_type
move_9_clofun (ats_clo_ptr_type cloptr, ats_int_type arg0, ats_ptr_type arg1, ats_int_type arg2, ats_ptr_type arg3, ats_int_type arg4, ats_ptr_type arg5, ats_int_type arg6) {
move_9 (((move_9_closure_type*)cloptr)->closure_env_0, ((move_9_closure_type*)cloptr)->closure_env_1, ((move_9_closure_type*)cloptr)->closure_env_2, ((move_9_closure_type*)cloptr)->closure_env_3, arg0, arg1, arg2, arg3, arg4, arg5, arg6) ; return ;
} /* end of function */

ATSinline()
ats_void_type
move_9_closure_init (move_9_closure_type *p_clo, ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3) {
p_clo->closure_fun = (ats_fun_ptr_type)&move_9_clofun ;
p_clo->closure_env_0 = env0 ;
p_clo->closure_env_1 = env1 ;
p_clo->closure_env_2 = env2 ;
p_clo->closure_env_3 = env3 ;
return ;
} /* end of function */

ats_clo_ptr_type
move_9_closure_make (ats_size_type env0, ats_ptr_type env1, ats_ptr_type env2, ats_ptr_type env3) {
move_9_closure_type *p_clo = ATS_MALLOC(sizeof(move_9_closure_type)) ;
move_9_closure_init (p_clo, env0, env1, env2, env3) ;
return (ats_clo_ptr_type)p_clo ;
} /* end of function */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/MISC/hanoi.dats: 175(line=12, offs=4) -- 2704(line=98, offs=4)
*/
ATSstaticdec()
ats_void_type
play_0 (ats_size_type arg0) {
/* local vardec */
// ATSlocal_void (tmp0) ;
ATSlocal (ats_int_type, tmp1) ;
ATSlocal (ats_ptr_type, tmp2) ;
ATSlocal (ats_ptr_type, tmp3) ;
// ATSlocal_void (tmp4) ;
ATSlocal (ats_ptr_type, tmp5) ;
ATSlocal (anairiats_rec_1, tmp6) ;
ATSlocal (ats_ptr_type, tmp7) ;
ATSlocal (ats_ptr_type, tmp8) ;
// ATSlocal_void (tmp9) ;
ATSlocal (ats_ptr_type, tmp10) ;
ATSlocal (anairiats_rec_1, tmp11) ;
ATSlocal (ats_ptr_type, tmp12) ;
ATSlocal (ats_ptr_type, tmp13) ;
// ATSlocal_void (tmp14) ;
ATSlocal (ats_ptr_type, tmp15) ;
ATSlocal (anairiats_rec_1, tmp16) ;
// ATSlocal_void (tmp55) ;
ATSlocal (ats_int_type, tmp79) ;
// ATSlocal_void (tmp80) ;

__ats_lab_play_0:
/* ats_int_type tmp1 ; */
tmp1 = 0 ;
tmp2 = atspre_array_ptr_alloc_tsz (arg0, sizeof(ats_int_type)) ;
tmp3 = ats_selsin_mac(tmp2, atslab_2) ;
/* tmp4 = */ atspre_array_ptr_initialize_elt_tsz (tmp3, arg0, (&tmp1), sizeof(ats_int_type)) ;
tmp6.atslab_2 = tmp3 ;
tmp6.atslab_3 = arg0 ;

tmp5 = ATS_2d0_2e2_2e12_2prelude_2SATS_2array_2esats__array_make_arrpsz (tmp6) ;
tmp7 = atspre_array_ptr_alloc_tsz (arg0, sizeof(ats_int_type)) ;
tmp8 = ats_selsin_mac(tmp7, atslab_2) ;
/* tmp9 = */ atspre_array_ptr_initialize_elt_tsz (tmp8, arg0, (&tmp1), sizeof(ats_int_type)) ;
tmp11.atslab_2 = tmp8 ;
tmp11.atslab_3 = arg0 ;

tmp10 = ATS_2d0_2e2_2e12_2prelude_2SATS_2array_2esats__array_make_arrpsz (tmp11) ;
tmp12 = atspre_array_ptr_alloc_tsz (arg0, sizeof(ats_int_type)) ;
tmp13 = ats_selsin_mac(tmp12, atslab_2) ;
/* tmp14 = */ atspre_array_ptr_initialize_elt_tsz (tmp13, arg0, (&tmp1), sizeof(ats_int_type)) ;
tmp16.atslab_2 = tmp13 ;
tmp16.atslab_3 = arg0 ;

tmp15 = ATS_2d0_2e2_2e12_2prelude_2SATS_2array_2esats__array_make_arrpsz (tmp16) ;
/* tmp55 = */ initialize_1 (arg0, tmp5) ;
tmp79 = atspre_int1_of_size1 (arg0) ;
/* tmp80 = */ showposts_6 (arg0, tmp5, tmp10, tmp15) ;
/* tmp0 = */ move_9 (arg0, tmp5, tmp10, tmp15, tmp79, tmp5, 0, tmp15, tmp79, tmp10, tmp79) ;
return /* (tmp0) */ ;
} /* end of [play_0] */

/*
// /home/hwxi/Research/ATS-Anairiats/doc/EXAMPLE/MISC/hanoi.dats: 2759(line=102, offs=16) -- 2780(line=102, offs=37)
*/
ATSglobaldec()
ats_void_type
mainats (ats_int_type arg0, ats_ref_type arg1) {
/* local vardec */
// ATSlocal_void (tmp81) ;

__ats_lab_mainats:
/* tmp81 = */ play_0 (4) ;
return /* (tmp81) */ ;
} /* end of [mainats] */

/* static load function */

// extern ats_void_type ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats__staload (void) ;

ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2MISC_2hanoi_2edats__staload () {
static int ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2MISC_2hanoi_2edats__staload_flag = 0 ;
if (ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2MISC_2hanoi_2edats__staload_flag) return ;
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2MISC_2hanoi_2edats__staload_flag = 1 ;

// ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats__staload () ;

return ;
} /* staload function */

/* dynamic load function */

// dynload flag declaration
// extern ats_int_type ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2MISC_2hanoi_2edats__dynload_flag ;

ats_void_type
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2MISC_2hanoi_2edats__dynload () {
// ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2MISC_2hanoi_2edats__dynload_flag = 1 ;
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2MISC_2hanoi_2edats__staload () ;

#ifdef _ATS_PROOFCHECK
ATS_2d0_2e2_2e12_2prelude_2SATS_2array_2esats__array_v_takeout2_prfck () ;
ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____copy_prfck () ;
ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____free_prfck () ;
ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____assert_prfck () ;
ATS_2d0_2e2_2e12_2prelude_2DATS_2array_2edats____assert_prfck () ;
#endif /* _ATS_PROOFCHECK */

/* marking static variables for GC */

/* marking external values for GC */

/* code for dynamic loading */
return ;
} /* end of [dynload function] */

int main (int argc, char *argv[]) {
ATS_GC_INIT() ;
mainats_prelude() ;
ATS_2d0_2e2_2e12_2doc_2EXAMPLE_2MISC_2hanoi_2edats__dynload() ;
mainats((ats_int_type)argc, (ats_ptr_type)argv) ;
return (0) ;
} /* end of main */

/* external codes at mid */
/* external codes at bot */

/* ****** ****** */

/* end of [hanoi_dats.c] */
